{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"The Internals of Unity Catalog 0.2.0-SNAPSHOT","text":"<p>Welcome to The Internals of Unity Catalog online book! \ud83e\udd19</p> <p>I'm Jacek Laskowski, a Freelance Data(bricks) Engineer specializing in Apache Spark (incl. Spark SQL and Spark Structured Streaming), Delta Lake, Databricks, and Apache Kafka (incl. Kafka Streams) with brief forays into a wider data engineering space (e.g., Trino, Dask and dbt, mostly during Warsaw Data Engineering meetups).</p> <p>I'm very excited to have you here and hope you will enjoy exploring the internals of Unity Catalog as much as I have.</p> <p>Flannery O'Connor</p> <p>I write to discover what I know.</p> <p>\"The Internals Of\" series</p> <p>I'm also writing other online books in the \"The Internals Of\" series. Please visit \"The Internals Of\" Online Books home page.</p> <p>Expect text and code snippets from a variety of public sources. Attribution follows.</p> <p>Now, let's take a deep dive into Unity Catalog \ud83d\udd25</p> <p>Last update: 2024-09-22</p>"},{"location":"logging/","title":"Logging","text":"<p>Unity Catalog uses Log4j 2 logging framework (through the Simple Logging Facade for Java (SLF4J) with Apache Log4j SLF4J 2.0 Binding).</p> <p>There are two logging configuration files in <code>etc/conf</code>:</p> Component Configuration File Unity Catalog CLI <code>etc/conf/cli.log4j2.properties</code> Unity Catalog Server etc/conf/server.log4j2.properties"},{"location":"logging/#server.log4j2.properties","title":"etc/conf/server.log4j2.properties","text":"<p>Unity Catalog Server uses <code>etc/conf/server.log4j2.properties</code> logging configuration file.</p> <p>The following sample <code>server.log4j2.properties</code> sets up logging to standard output (console):</p> <pre><code>status = warn\n\nappender.console.name = stdout\nappender.console.type = Console\nappender.console.layout.type = PatternLayout\nappender.console.layout.pattern = %d{YYYY-MM-dd HH:mm:ss} [%t] %-5p %c:%L - %m%n\nappender.console.target = SYSTEM_OUT\n\nrootLogger.level = info\nrootLogger.appenderRefs = console\nrootLogger.appenderRef.console.ref = stdout\n</code></pre>"},{"location":"logging/#automatic-configuration","title":"Automatic Configuration","text":"<p>Automatic Configuration</p>"},{"location":"cli/","title":"Unity Catalog CLI","text":"<p>Unity Catalog CLI can be started using <code>./bin/uc</code> command-line utility that runs UnityCatalogCli.</p> <pre><code>$ ./bin/uc --help\n\nUsage: bin/uc &lt;entity&gt; &lt;operation&gt; [options]\nEntities: schema, volume, model_version, auth, catalog, function, registered_model, table\n\nBy default, the client will connect to UC running locally at http://localhost:8080\n\nTo connect to specific UC server, use --server https://&lt;host&gt;:&lt;port&gt;\n\nCurrently, auth using bearer token is supported. Please specify the token via --auth_token &lt;PAT Token&gt;\n\nFor detailed help on entity specific operations, use bin/uc &lt;entity&gt; --help\n</code></pre>"},{"location":"cli/#entities","title":"Entities","text":"<p>Unity Catalog CLI supports the following entities (commands):</p> <ul> <li>auth</li> <li>catalog</li> <li>function</li> <li>model_version</li> <li>registered_model</li> <li>schema</li> <li>table</li> <li>volume</li> </ul>"},{"location":"cli/#options","title":"Options","text":""},{"location":"cli/#output","title":"output <p>The output format</p>    Format Description     <code>json</code> Prints out the output directly (with no changes) for <code>read</code> and <code>call</code> subcommands when postProcessAndPrintOutput   <code>jsonPretty</code> Uses the default <code>PrettyPrinter</code> for the ObjectWriter to pretty-print JSONs","text":""},{"location":"cli/#fixed-width-output-fields","title":"Fixed-Width Output Fields","text":"<p>As of this commit, the tabular output of Unity Catalog CLI always displays the entire values of the following columns (case-insensitive):</p> <ul> <li><code>NAME</code></li> <li>Any column with <code>ID</code> suffix (e.g., <code>TABLE_ID</code>)</li> </ul> <pre><code>$ ./bin/uc table list --catalog unity --schema default\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      NAME       \u2502CATALOG_NAME\u2502SCHEMA_NAME \u2502 TABLE_TYPE \u2502DATA_SOURCE_\u2502  COLUMNS   \u2502STORAGE_LOCA\u2502  COMMENT   \u2502 PROPERTIES \u2502 CREATED_AT \u2502 UPDATED_AT \u2502              TABLE_ID              \u2502\n\u2502                 \u2502            \u2502            \u2502            \u2502   FORMAT   \u2502            \u2502    TION    \u2502            \u2502            \u2502            \u2502            \u2502                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502numbers          \u2502unity       \u2502default     \u2502EXTERNAL    \u2502DELTA       \u2502[{\"name\":...\u2502file:///U...\u2502External ...\u2502{\"key1\":\"...\u2502172042953...\u2502172042953...\u2502b5d6db68-5eca-485c-be5f-5f53d4f27f60\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502marksheet_uniform\u2502unity       \u2502default     \u2502EXTERNAL    \u2502DELTA       \u2502[{\"name\":...\u2502file:///t...\u2502Uniform t...\u2502{\"key1\":\"...\u2502172042953...\u2502172042953...\u250276874c28-0ebf-46e7-9971-eb164bd62c46\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502marksheet        \u2502unity       \u2502default     \u2502MANAGED     \u2502DELTA       \u2502[{\"name\":...\u2502file:///U...\u2502Managed t...\u2502{\"key1\":\"...\u2502172042953...\u2502172042953...\u250225ca07aa-1350-4104-b485-13b9ad1f5d72\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"cli/#read-write-support-for-delta-tables-only","title":"Read-Write Support for Delta Tables Only","text":"<p>Only delta tables are supported for read and write operations.</p>"},{"location":"cli/AuthCli/","title":"AuthCli","text":"<p><code>AuthCli</code> is used by UnityCatalogCli to handle <code>auth</code> sub-commands.</p> <pre><code>$ ./bin/uc auth --help\nPlease provide a valid sub-command for auth.\nValid sub-commands for auth are: login\nFor detailed help on auth sub-commands, use bin/uc auth &lt;sub-command&gt; --help\n</code></pre>"},{"location":"cli/AuthCli/#exchange-and-login","title":"Exchange and Login","text":"<p>login and exchange use doExchange for authentication with the following difference:</p> <ul> <li>login uses Oauth2CliExchange to authenticate and generate an identity token.</li> <li>exchange expects an identity token to be given (using <code>identity_token</code> option on command line).</li> </ul>"},{"location":"cli/AuthCli/#handle","title":"Handle Command Line","text":"<pre><code>void handle(\n  CommandLine cmd,\n  ApiClient apiClient)\n</code></pre> <p><code>handle</code> handles the given <code>cmd</code>.</p> Subcommand Handler <code>login</code> One of the following based on <code>identity_token</code> option:<ul><li>exchange for <code>identity_token</code> param</li><li>login</li></ul> <p><code>handle</code> is used when:</p> <ul> <li><code>UnityCatalogCli</code> is launched on command line with <code>auth</code> command</li> </ul>"},{"location":"cli/AuthCli/#exchange","title":"Exchange","text":"<pre><code>String exchange(\n  ApiClient apiClient,\n  JSONObject json)\n</code></pre> <p><code>exchange</code> de-serializes the given <code>json</code> object into a collection (that is supposed to include <code>identityToken</code> key based on <code>identity_token</code> CLI parameter).</p> <p><code>exchange</code> doExchange with the <code>identityToken</code> identity token.</p> <p><code>login</code> is used when:</p> <ul> <li><code>AuthCli</code> is requested to handle <code>login</code> subcommand with <code>identity_token</code> option used on the command line</li> </ul>"},{"location":"cli/AuthCli/#login","title":"Login","text":"<pre><code>String login(\n  ApiClient apiClient,\n  JSONObject json)\n</code></pre> <p><code>login</code> creates a Oauth2CliExchange to authenticate (and create an identity token).</p> <p>In the end, <code>login</code> doExchange with the identity token as the value of <code>identityToken</code> key in the <code>login</code> input map).</p> <p><code>login</code> is used when:</p> <ul> <li><code>AuthCli</code> is requested to handle <code>login</code> subcommand with no <code>identity_token</code> option used on the command line</li> </ul>"},{"location":"cli/AuthCli/#doExchange","title":"doExchange","text":"<pre><code>String doExchange(\n  ApiClient apiClient,\n  Map&lt;String, String&gt; login)\n</code></pre> <p><code>doExchange</code> requests the given ApiClient for the base URI to access <code>/auth/tokens</code> API endpoint with the following query parameters:</p> Query Parameter Value <code>grant_type</code> <code>urn:ietf:params:oauth:grant-type:token-exchange</code> <code>requested_token_type</code> <code>urn:ietf:params:oauth:token-type:access_token</code> <code>subject_token_type</code> <code>urn:ietf:params:oauth:token-type:id_token</code> <code>subject_token</code> The value of <code>identityToken</code> in the given <code>login</code> collection <p><code>doExchange</code> sends a POST request to <code>/auth/tokens</code> API endpoint with <code>application/x-www-form-urlencoded</code> content type.</p> <p>In the end, <code>doExchange</code> creates a <code>LoginInfo</code> with <code>access_token</code> (from the response).</p>"},{"location":"cli/CatalogCli/","title":"CatalogCli","text":"<p><code>CatalogCli</code>...FIXME</p>"},{"location":"cli/CliUtils/","title":"CliUtils","text":""},{"location":"cli/CliUtils/#postProcessAndPrintOutput","title":"postProcessAndPrintOutput","text":"<pre><code>void postProcessAndPrintOutput(\n  CommandLine cmd,\n  String output,\n  String subCommand)\n</code></pre> <p><code>postProcessAndPrintOutput</code>...FIXME</p> <p><code>postProcessAndPrintOutput</code> is used by the CLI handlers:</p> <ul> <li>CatalogCli</li> <li>FunctionCli</li> <li>SchemaCli</li> <li>TableCli</li> <li>VolumeCli</li> </ul>"},{"location":"cli/DeltaKernelUtils/","title":"DeltaKernelUtils","text":""},{"location":"cli/DeltaKernelUtils/#createDeltaTable","title":"createDeltaTable","text":"<pre><code>String createDeltaTable(\n  String tablePath,\n  List&lt;ColumnInfo&gt; columns,\n  AwsCredentials awsTempCredentials)\n</code></pre> <p><code>createDeltaTable</code>...FIXME</p> <p><code>createDeltaTable</code> is used when:</p> <ul> <li><code>TableCli</code> is requested to create a table</li> </ul>"},{"location":"cli/DeltaKernelWriteUtils/","title":"DeltaKernelWriteUtils","text":""},{"location":"cli/DeltaKernelWriteUtils/#writeSampleDataToDeltaTable","title":"Write Out Sample Data to Delta Table","text":"<pre><code>String writeSampleDataToDeltaTable(\n  String tablePath,\n  List&lt;ColumnInfo&gt; columns,\n  AwsCredentials tempCredentialResponse)\n</code></pre> <p><code>writeSampleDataToDeltaTable</code>...FIXME</p> <p><code>writeSampleDataToDeltaTable</code> is used when:</p> <ul> <li><code>TableCli</code> is requested to write to a table</li> </ul>"},{"location":"cli/FunctionCli/","title":"FunctionCli","text":""},{"location":"cli/FunctionCli/#handle","title":"Handling Command Line","text":"<pre><code>void handle(\n  CommandLine cmd,\n  ApiClient apiClient)\n</code></pre> <p><code>handle</code> handles the given <code>cmd</code>.</p> Subcommand Params Handler <code>call</code> <code>full_name</code> executeFunction <code>get</code> <code>full_name</code> getFunction ... <p><code>handle</code> is used when:</p> <ul> <li><code>UnityCatalogCli</code> is launched on command line with <code>function</code> command</li> </ul>"},{"location":"cli/FunctionCli/#executeFunction","title":"Executing Function","text":"<pre><code>String executeFunction(\n  FunctionsApi functionsApi,\n  JSONObject json)\n</code></pre> <p><code>executeFunction</code> requests the given <code>FunctionsApi</code> for the function (by the <code>full_name</code> parameter) and executes it using <code>etc/data/function/python_engine.py</code> Python runtime.</p> <p>Note</p> <p><code>FunctionsApi</code> sends HTTP requests to FunctionService.</p>"},{"location":"cli/FunctionCli/#getFunction","title":"Looking Up Function","text":"<pre><code>String getFunction(\n  FunctionsApi functionsApi,\n  JSONObject json)\n</code></pre> <p><code>getFunction</code> requests the given <code>FunctionsApi</code> for the function (by the <code>full_name</code> parameter) and converts it to JSON (using the ObjectWriter).</p> <p>Note</p> <p><code>FunctionsApi</code> sends HTTP requests to FunctionService.</p> <pre><code>$ ./bin/uc function get --full_name unity.default.sum --output jsonPretty\n{\n  \"name\" : \"sum\",\n  \"catalog_name\" : \"unity\",\n  \"schema_name\" : \"default\",\n  \"input_params\" : {\n    \"parameters\" : [ {\n      \"name\" : \"x\",\n      \"type_text\" : \"int\",\n      \"type_json\" : \"{\\\"name\\\":\\\"x\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}\",\n      \"type_name\" : \"INT\",\n      \"type_precision\" : null,\n      \"type_scale\" : null,\n      \"type_interval_type\" : null,\n      \"position\" : 0,\n      \"parameter_mode\" : null,\n      \"parameter_type\" : null,\n      \"parameter_default\" : null,\n      \"comment\" : null\n    }, {\n      \"name\" : \"y\",\n      \"type_text\" : \"int\",\n      \"type_json\" : \"{\\\"name\\\":\\\"y\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}\",\n      \"type_name\" : \"INT\",\n      \"type_precision\" : null,\n      \"type_scale\" : null,\n      \"type_interval_type\" : null,\n      \"position\" : 1,\n      \"parameter_mode\" : null,\n      \"parameter_type\" : null,\n      \"parameter_default\" : null,\n      \"comment\" : null\n    }, {\n      \"name\" : \"z\",\n      \"type_text\" : \"int\",\n      \"type_json\" : \"{\\\"name\\\":\\\"z\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}\",\n      \"type_name\" : \"INT\",\n      \"type_precision\" : null,\n      \"type_scale\" : null,\n      \"type_interval_type\" : null,\n      \"position\" : 2,\n      \"parameter_mode\" : null,\n      \"parameter_type\" : null,\n      \"parameter_default\" : null,\n      \"comment\" : null\n    } ]\n  },\n  \"data_type\" : \"INT\",\n  \"full_data_type\" : \"INT\",\n  \"return_params\" : null,\n  \"routine_body\" : \"EXTERNAL\",\n  \"routine_definition\" : \"t = x + y + z\\\\nreturn t\",\n  \"routine_dependencies\" : null,\n  \"parameter_style\" : \"S\",\n  \"is_deterministic\" : true,\n  \"sql_data_access\" : \"NO_SQL\",\n  \"is_null_call\" : false,\n  \"security_type\" : \"DEFINER\",\n  \"specific_name\" : \"sum\",\n  \"comment\" : \"Add two numbers\",\n  \"properties\" : null,\n  \"full_name\" : \"unity.default.sum\",\n  \"created_at\" : 1720082975600,\n  \"updated_at\" : null,\n  \"function_id\" : \"6b587147-128f-4f05-8a4f-173a18831bdf\",\n  \"external_language\" : \"python\"\n}\n</code></pre>"},{"location":"cli/ModelCli/","title":"ModelCli","text":"<p><code>ModelCli</code> is used by UnityCatalogCli to handle <code>registered_model</code> sub-commands.</p> <pre><code>\u276f ./bin/uc registered_model --help\nPlease provide a valid sub-command for registered_model.\nValid sub-commands for registered_model are: get, create, update, list, delete\nFor detailed help on registered_model sub-commands, use bin/uc registered_model &lt;sub-command&gt; --help\n</code></pre>"},{"location":"cli/ModelCli/#handle","title":"Handle Command Line","text":"<pre><code>void handle(\n  CommandLine cmd,\n  ApiClient apiClient)\n</code></pre> <p><code>handle</code> handles the given <code>cmd</code>.</p> <p><code>handle</code> creates a <code>RegisteredModelsApi</code> (with the given ApiClient).</p> Subcommand Handler API Handlers <code>create</code> createRegisteredModel <code>RegisteredModelsApi</code> <code>list</code> listRegisteredModels <code>RegisteredModelsApi</code> <code>get</code> getRegisteredModel <code>RegisteredModelsApi</code> <code>update</code> updateRegisteredModel <code>RegisteredModelsApi</code> <code>delete</code> deleteRegisteredModel <code>RegisteredModelsApi</code> <p><code>handle</code> is used when:</p> <ul> <li><code>UnityCatalogCli</code> is launched on command line with <code>registered_model</code> command</li> </ul>"},{"location":"cli/ModelCli/#createRegisteredModel","title":"Create Registered Model","text":"<pre><code>String createRegisteredModel(\n  RegisteredModelsApi registeredModelsApi,\n  JSONObject json)\n</code></pre> <p><code>createRegisteredModel</code> deserializes (converts) the given <code>JSONObject</code> into <code>CreateRegisteredModel</code>.</p> <p><code>createRegisteredModel</code> requests the given <code>RegisteredModelsApi</code> to create a model (based on the <code>CreateRegisteredModel</code>).</p> <p>Example</p> <pre><code>./bin/uc registered_model create \\\n    --catalog unity \\\n    --schema default \\\n    --name ccc \\\n    --comment 'This is a demo'\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              KEY              \u2502                                                                VALUE                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                           \u2502ccc                                                                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME                   \u2502unity                                                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME                    \u2502default                                                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502STORAGE_LOCATION               \u2502file:/tmp/ucroot/f029b870-9468-4f10-badc-630b41e5690d/b08dfd57-a939-46cf-b102-9b906b884fae/models/2e852506-4c70-4364-9c5e-d4a7ad9863ac\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FULL_NAME                      \u2502unity.default.ccc                                                                                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT                        \u2502This is a demo                                                                                                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT                     \u25021725821472898                                                                                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_BY                     \u2502null                                                                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT                     \u25021725821472898                                                                                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_BY                     \u2502null                                                                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502MODEL_ID                       \u25022e852506-4c70-4364-9c5e-d4a7ad9863ac                                                                                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Note</p> <p><code>RegisteredModelsApi</code> sents <code>POST</code> HTTP requests to /api/2.1/unity-catalog/models endpoint.</p>"},{"location":"cli/ModelVersionCli/","title":"ModelVersionCli","text":"<p><code>ModelVersionCli</code>...FIXME</p>"},{"location":"cli/PythonInvoker/","title":"PythonInvoker","text":""},{"location":"cli/SchemaCli/","title":"SchemaCli","text":"<p><code>SchemaCli</code>...FIXME</p>"},{"location":"cli/TableCli/","title":"TableCli","text":"<p><code>TableCli</code> is used by UnityCatalogCli to handle <code>table</code> sub-commands.</p> <pre><code>$ ./bin/uc table --help\nPlease provide a valid sub-command for table.\nValid sub-commands for table are: read, get, create, list, write, delete\nFor detailed help on table sub-commands, use bin/uc table &lt;sub-command&gt; --help\n</code></pre> <p>Read-write support for delta tables only</p> <p>Only delta tables are supported for read and write operations.</p>"},{"location":"cli/TableCli/#handle","title":"Handle Command Line","text":"<pre><code>void handle(\n  CommandLine cmd,\n  ApiClient apiClient)\n</code></pre> <p><code>handle</code> handles the given <code>cmd</code>.</p> <p><code>handle</code> creates a <code>TablesApi</code> and <code>TemporaryTableCredentialsApi</code> (with the given ApiClient).</p> Subcommand Handler API Handlers <code>create</code> createTable <code>TablesApi</code> <code>delete</code> deleteTable <code>TablesApi</code> <code>get</code> getTable <code>TablesApi</code> <code>list</code> listTables <code>TablesApi</code> <code>read</code> readTable <code>TablesApi</code><code>TemporaryTableCredentialsApi</code> <code>write</code> writeTable <code>TablesApi</code><code>TemporaryTableCredentialsApi</code> <p><code>handle</code> is used when:</p> <ul> <li><code>UnityCatalogCli</code> is launched on command line with <code>table</code> command</li> </ul>"},{"location":"cli/TableCli/#createTable","title":"Create Table","text":"<pre><code>String createTable(\n  TablesApi apiClient,\n  JSONObject json)\n</code></pre> <p><code>createTable</code> handles <code>create</code> sub-command.</p> Help <pre><code>./bin/uc table create --help\n</code></pre> <pre><code>Usage: bin/uc table create [options]\nRequired Params:\n  --full_name The full name in the format catalog_name.schema_name for schema, or catalog_name.schema_name.table_name for table/function/volume\n  --columns The columns of the table. Each column spec should be in the sql-like format  \"column_name column_data_type\".Supported data types are BOOLEAN, BYTE, SHORT, INT, LONG, FLOAT, DOUBLE, DATE, TIMESTAMP, TIMESTAMP_NTZ, STRING, BINARY, DECIMAL. Multiple columns should be separated by a comma. For example: \"id INT, name STRING\".\n  --storage_location The storage location associated with the table. Need to be specified for external tables.\nOptional Params:\n  --server UC Server to connect to. Default is reference server.\n  --auth_token PAT token to authorize uc requests.\n  --output To indicate CLI output format preference. Supported values are json and jsonPretty.\n  --format The format of the data source. Supported values are DELTA, PARQUET, ORC, JSON, CSV, AVRO and TEXT.\n  --properties The properties of the entity. Need to be in json format. For example: \"{\"key1\": \"value1\", \"key2\": \"value2\"}\".\n</code></pre> <p><code>createTable</code> takes the <code>full_name</code> command-line option (from the given <code>JSONObject</code>) and extracts the parts (as if they were given separately).</p> <p>Note</p> <p><code>createTable</code> accepts a three-level namespace (<code>[catalog].[schema].[name]</code>) only.</p> <p>Note</p> <p>The command-line option is <code>full_name</code> yet it is removed and replaced by the three parts.</p> <p>Unless specified, <code>createTable</code> sets <code>table_type</code> to be <code>EXTERNAL</code>.</p> <p>No Support for Managed Tables using CLI</p> <p>Only <code>EXTERNAL</code> tables are created using <code>./bin/uc</code> command-line utility.</p> <p>Unless specified (using <code>format</code> CLI option), <code>createTable</code> sets <code>data_source_format</code> to be <code>DELTA</code>.</p> <p><code>createTable</code> creates a CreateTable:</p> CreateTable Server Param CLI Option <code>name</code> <code>name</code> <code>name</code> <code>catalogName</code> <code>catalog_name</code> <code>catalog</code> <code>schemaName</code> <code>schema_name</code> <code>schema</code> <code>columns</code> <code>columns</code> <code>columns</code> <code>properties</code> <code>properties</code> <code>properties</code> <code>tableType</code> <code>table_type</code> <code>table_type</code> <code>dataSourceFormat</code> <code>data_source_format</code> <code>format</code> <p>For <code>EXTERNAL</code> table type, <code>createTable</code> sets <code>storage_location</code> of the <code>CreateTable</code> as the value of <code>storage_location</code> command-line option and handleTableStorageLocation.</p> <p>Storage Location</p> <p>Storage locations must start with the following prefixes:</p> <ul> <li><code>s3://</code></li> <li><code>file:/</code></li> <li><code>/</code> for absolute local filesystem paths</li> </ul> <p>External Tables with Local Storage Locations</p> <p>For external tables with non-<code>s3://</code> storage locations, <code>createTable</code> creates a delta table only.</p> <p><code>createTable</code> requests the given <code>TablesApi</code> client to send the <code>CreateTable</code> to the server (that responds with a <code>TableInfo</code>).</p> <p>Note</p> <p>The <code>CreateTable</code> request is sent out as a <code>POST</code> request to <code>/tables</code> API endpoint.</p>"},{"location":"cli/TableCli/#handleTableStorageLocation","title":"handleTableStorageLocation","text":"<pre><code>void handleTableStorageLocation(\n  String storageLocation,\n  List&lt;ColumnInfo&gt; columnInfos)\n</code></pre> <p><code>handleTableStorageLocation</code> supports <code>storageLocation</code>s with one of the following prefixes (or throws a <code>CliException</code>):</p> <ul> <li><code>s3://</code></li> <li><code>file:/</code></li> <li><code>/</code> for absolute local filesystem paths</li> </ul> <p>For a local filesystem path (a non-<code>s3://</code> storage location), <code>handleTableStorageLocation</code> creates an empty delta table (the directory with a delta log at the storage location).</p> <p>No AwsCredentials Used</p> <p><code>handleTableStorageLocation</code> creates an empty delta table with no AwsCredentials (<code>null</code>).</p>"},{"location":"cli/TableCli/#writeTable","title":"Write to Delta Table","text":"<pre><code>String writeTable(\n  TemporaryTableCredentialsApi temporaryTableCredentialsApi,\n  TablesApi tablesApi,\n  JSONObject json)\n</code></pre> <p>Only delta tables supported</p> <p><code>writeTable</code> can only write to delta tables (with <code>DELTA</code> format in the catalog).</p> <p><code>writeTable</code> looks up the table (by the <code>full_name</code> parameter).</p> <p><code>writeTable</code> requests temporary table credentials for <code>READ_WRITE</code> operation on the table.</p> <p>Only for a delta table, <code>writeTable</code> writes out sample data.</p>"},{"location":"cli/UnityCatalogCli/","title":"UnityCatalogCli","text":"<p><code>UnityCatalogCli</code> can be launched on command line using <code>./bin/uc</code> command-line utility.</p>"},{"location":"cli/UnityCatalogCli/#options","title":"Options","text":""},{"location":"cli/UnityCatalogCli/#auth_token","title":"auth_token","text":"<p>Personal access token (PAT) to authorize requests</p> <p>When specified, <code>UnityCatalogCli</code> creates an ApiClient that adds the bearer token in the HTTP <code>Authorization</code> header to every request.</p> <pre><code>authorization: Bearer [pat]\n</code></pre>"},{"location":"cli/UnityCatalogCli/#server","title":"server","text":"<p>Default: <code>http://localhost:8080</code></p>"},{"location":"cli/UnityCatalogCli/#main","title":"Launching Standalone Application","text":"<p><code>main</code> creates an ApiClient and handles the command (specified as the first argument on command line).</p> Command Handler <code>auth</code> AuthCli <code>catalog</code> CatalogCli <code>function</code> FunctionCli <code>model_version</code> ModelVersionCli <code>registered_model</code> ModelCli <code>schema</code> SchemaCli <code>table</code> TableCli <code>volume</code> VolumeCli"},{"location":"cli/UnityCatalogCli/#getApiClient","title":"Creating ApiClient","text":"<pre><code>ApiClient getApiClient(\n  CommandLine cmd)\n</code></pre> <p><code>getApiClient</code> creates an ApiClient with the following:</p> Attribute Value The host name of the UC service server option The port number of the UC service The port from the server option, if specified, or one of the following: <ul><li><code>443</code> for <code>https</code> scheme<li><code>8080</code> for <code>http</code> scheme"},{"location":"cli/UnityCatalogCli/#logging","title":"Logging","text":"<p><code>UnityCatalogCli</code> uses <code>etc/conf/cli.log4j2.properties</code> as the logging configuration file (via log4j.configurationFile configuration property).</p>"},{"location":"cli/VolumeCli/","title":"VolumeCli","text":"<p><code>VolumeCli</code>...FIXME</p>"},{"location":"client/","title":"Unity Catalog's Client API","text":""},{"location":"client/ApiClient/","title":"ApiClient","text":"<p><code>ApiClient</code> is an API client of Unity Catalog Localhost Reference Server.</p> OpenAPI Generator <p><code>ApiClient</code> was auto-generated using OpenAPI Generator based on Unity Catalog's OpenAPI specification.</p> <p>sbt-openapi-generator 7.5.0 is used in the <code>client</code> sbt module of the <code>unitycatalog</code> project.</p> <p><code>ApiClient</code> uses <code>http://localhost:8080/api/2.1/unity-catalog</code> as the default base URI (unless overriden).</p> <p><code>ApiClient</code> is used by UnityCatalogCli.</p>"},{"location":"client/ApiClient/#updateBaseUri","title":"updateBaseUri","text":"<pre><code>void updateBaseUri(\n  String baseUri)\n</code></pre> <p><code>updateBaseUri</code>...FIXME</p>"},{"location":"contenders/","title":"Contenders","text":"<p>As it happens in the OSS world, Unity Catalog is not alone in the area of metadata catalogs for data and AI. The following is a list of some other OSS projects that seem to compete or cover the same use cases.</p>"},{"location":"contenders/#polaris-catalog","title":"Polaris Catalog","text":"<p>Polaris Catalog Is Now Open Source</p>"},{"location":"demo/","title":"Demo","text":"<p>The following demo are available:</p> <ul> <li>Spark Connector</li> <li>CRUD with External Delta Table</li> <li>Namespace Support in Spark Connector</li> </ul>"},{"location":"demo/crud-external-delta-table/","title":"Demo: CRUD with External Delta Table","text":"<p>The demo is prepared in such a way to showcase two features of Unity Catalog at the same time:</p> <ol> <li>Create an external delta table (<code>uc table create</code>)</li> <li>Write sample data to an external delta table (<code>uc table write</code>)</li> <li>Read the delta table using Unity Catalog CLI (<code>uc table read</code>)</li> <li>Read the delta table using Spark Connector</li> </ol> <p>That's why the catalog name is the default Spark SQL catalog <code>spark_catalog</code> (not Unity Catalog's <code>unity</code>).</p>"},{"location":"demo/crud-external-delta-table/#create-spark_catalog-in-unity-catalog","title":"Create spark_catalog in Unity Catalog","text":"SHELL <pre><code>./bin/uc catalog create --name spark_catalog\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              KEY              \u2502                            VALUE                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                           \u2502spark_catalog                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT                        \u2502null                                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES                     \u2502{}                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT                     \u25021721933958175                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT                     \u2502null                                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ID                             \u25020469f2dd-ecce-498d-8fd9-6c04f333135e                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"demo/crud-external-delta-table/#create-demo-schema","title":"Create Demo Schema","text":"SHELL <pre><code>./bin/uc schema create \\\n    --catalog spark_catalog \\\n    --name demo\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                 VALUE                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                \u2502demo                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME        \u2502spark_catalog                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT             \u2502null                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES          \u2502{}                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FULL_NAME           \u2502spark_catalog.demo                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT          \u25021721934667143                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT          \u2502null                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_ID           \u2502f77e80f4-8c14-4da3-b890-0e27d6af1ef5    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"demo/crud-external-delta-table/#create-external-delta-table","title":"Create External Delta Table","text":"SHELL <pre><code>./bin/uc table create \\\n    --full_name spark_catalog.demo.delta_table \\\n    --columns \"id INT, name STRING\" \\\n    --storage_location /tmp/delta_table\n</code></pre> <pre><code>Table created successfully at: file:///tmp/delta_table\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                                          VALUE                                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                \u2502delta_table                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME        \u2502spark_catalog                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME         \u2502demo                                                                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_TYPE          \u2502EXTERNAL                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502DATA_SOURCE_FORMAT  \u2502DELTA                                                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COLUMNS             \u2502{\"name\":\"id\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"integer\\\",\\\"nullab\u2502\n\u2502                    \u2502le\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":0,\"type_scale\":0,\"type_inte\u2502\n\u2502                    \u2502rval_type\":null,\"position\":0,\"comment\":null,\"nullable\":true,\"partition_index\":null}       \u2502\n\u2502                    \u2502{\"name\":\"name\",\"type_text\":\"string\",\"type_json\":\"{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\",\\\"\u2502\n\u2502                    \u2502nullable\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"STRING\",\"type_precision\":0,\"type_scale\":0,\"\u2502\n\u2502                    \u2502type_interval_type\":null,\"position\":1,\"comment\":null,\"nullable\":true,\"partition_index\":nul\u2502\n\u2502                    \u2502l}                                                                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502STORAGE_LOCATION    \u2502file:///tmp/delta_table/                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT             \u2502null                                                                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES          \u2502{}                                                                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT          \u25021721934728723                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT          \u2502null                                                                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_ID            \u25029ddc7ba3-a2b1-4bad-b358-f9910ca0eaa9                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"demo/crud-external-delta-table/#read-delta-table","title":"Read Delta Table","text":"SHELL <pre><code>./bin/uc table read \\\n    --full_name spark_catalog.demo.delta_table\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502id(integer)                            \u2502name(string)                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"demo/crud-external-delta-table/#write-sample-data-out-to-delta-table","title":"Write Sample Data Out to Delta Table","text":"SHELL <pre><code>./bin/uc table write \\\n    --full_name spark_catalog.demo.delta_table\n</code></pre> <pre><code>Table written to successfully at: file:///tmp/delta_table/\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                 VALUE                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"demo/crud-external-delta-table/#read-delta-table_1","title":"Read Delta Table","text":"SHELL <pre><code>./bin/uc table read \\\n    --full_name spark_catalog.demo.delta_table\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502id(integer)                            \u2502name(string)                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25021                                      \u2502eoFmOHAqPM                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25022                                      \u2502YGzacYHtUa                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25023                                      \u2502IiaJlcUhgu                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25024                                      \u2502yTiXPwxFvP                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25025                                      \u2502FbHXPqhLyS                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25026                                      \u2502FRLqZGMlKj                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25027                                      \u2502VVdiVyaFsh                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25028                                      \u2502DNSTNQfhXX                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u25029                                      \u2502BRXCMWjFsG                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u250210                                     \u2502NYucEJZuTK                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u250211                                     \u2502USIjlhqNMN                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u250212                                     \u2502jNXDZkbRnn                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u250213                                     \u2502EiNApsmzaz                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u250214                                     \u2502TgfXQtocFo                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u250215                                     \u2502TksgpbjlIW                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"demo/crud-external-delta-table/#spark-connector","title":"Spark Connector","text":"Spark 3.5.1 + Delta Lake 3.2.0 <pre><code>./bin/spark-shell \\\n    --packages \\\n        io.delta:delta-spark_2.13:3.2.0,io.unitycatalog:unitycatalog-spark:0.2.0-SNAPSHOT \\\n    --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n    --conf spark.sql.catalog.spark_catalog=io.unitycatalog.connectors.spark.UCSingleCatalog \\\n    --conf spark.sql.catalog.spark_catalog.uri=http://localhost:8080 \\\n    --conf spark.sql.catalog.unity=io.unitycatalog.connectors.spark.UCSingleCatalog \\\n    --conf spark.sql.catalog.unity.uri=http://localhost:8080\n</code></pre> Spark Shell <pre><code>spark.table(\"demo.delta_table\").show\n</code></pre> <pre><code>+---+----------+\n| id|      name|\n+---+----------+\n|  1|eoFmOHAqPM|\n|  2|YGzacYHtUa|\n|  3|IiaJlcUhgu|\n|  4|yTiXPwxFvP|\n|  5|FbHXPqhLyS|\n|  6|FRLqZGMlKj|\n|  7|VVdiVyaFsh|\n|  8|DNSTNQfhXX|\n|  9|BRXCMWjFsG|\n| 10|NYucEJZuTK|\n| 11|USIjlhqNMN|\n| 12|jNXDZkbRnn|\n| 13|EiNApsmzaz|\n| 14|TgfXQtocFo|\n| 15|TksgpbjlIW|\n+---+----------+\n</code></pre>"},{"location":"demo/namespace-support-in-spark-connector/","title":"Demo: Namespace Support in Spark Connector","text":"<p>The demo shows support in Unity Catalog's Spark Connector for various namespace-related commands (e.g., SHOW NAMESPACES, DESC NAMESPACE).</p> Spark 3.5.1 + Delta Lake 0.2.0-SNAPSHOT <pre><code>SPARK_SUBMIT_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5555 \\\n./bin/spark-shell \\\n  --packages \\\n    io.delta:delta-spark_2.13:3.2.0,io.unitycatalog:unitycatalog-spark:0.2.0-SNAPSHOT \\\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n  --conf spark.sql.catalog.spark_catalog=io.unitycatalog.connectors.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.spark_catalog.uri=http://localhost:8080 \\\n  --conf spark.sql.catalog.unity=io.unitycatalog.connectors.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.unity.uri=http://localhost:8080\n</code></pre> <pre><code>Welcome to\n        ____              __\n    / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n    /___/ .__/\\_,_/_/ /_/\\_\\   version 3.5.1\n        /_/\n\nUsing Scala version 2.13.8 (OpenJDK 64-Bit Server VM, Java 17.0.12)\n</code></pre> Spark Shell <pre><code>sql(\"SET spark.sql.defaultCatalog\").show(truncate=false)\n</code></pre> <pre><code>+------------------------+-------------+\n|key                     |value        |\n+------------------------+-------------+\n|spark.sql.defaultCatalog|spark_catalog|\n+------------------------+-------------+\n</code></pre> Spark Shell <pre><code>sql(\"SELECT current_catalog()\").show(truncate=false)\n</code></pre> <pre><code>+-----------------+\n|current_catalog()|\n+-----------------+\n|spark_catalog    |\n+-----------------+\n</code></pre> <p>The following executes UCSingleCatalog.initialize that in turn creates a UCProxy.</p> <pre><code>assert(spark.sessionState.catalogManager.currentCatalog.isInstanceOf[io.unitycatalog.connectors.spark.UCSingleCatalog])\n</code></pre> <pre><code>assert(spark.sessionState.catalogManager.currentCatalog.name == \"spark_catalog\")\n</code></pre> <p><code>SHOW NAMESPACES</code> requests the UCProxy to list the namespaces with the name of the catalog. No <code>IN</code> clause means the current default catalog.</p> <p>Note</p> <p>There is this single <code>unity</code> catalog registered in Unity Catalog by default. No other catalogs (incl. the default <code>spark_catalog</code> in Apache Spark) are available.</p> Unity Catalog CLI <pre><code>./bin/uc catalog list\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502NAME \u2502  COMMENT   \u2502PROPERTIES\u2502 CREATED_AT  \u2502UPDATED_AT\u2502                 ID                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502unity\u2502Main catalog\u2502{}        \u25021721234405334\u2502null      \u2502f029b870-9468-4f10-badc-630b41e5690d\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> Spark Shell <pre><code>sql(\"SHOW NAMESPACES\").show()\n</code></pre> <pre><code>io.unitycatalog.client.ApiException: listSchemas call failed with: 404 - {\"error_code\":\"NOT_FOUND\",\"details\":[{\"reason\":\"NOT_FOUND\",\"metadata\":{},\"@type\":\"google.rpc.ErrorInfo\"}],\"stack_trace\":null,\"message\":\"Catalog not found: spark_catalog\"}\n  at io.unitycatalog.client.api.SchemasApi.getApiException(SchemasApi.java:77)\n  at io.unitycatalog.client.api.SchemasApi.listSchemasWithHttpInfo(SchemasApi.java:358)\n  at io.unitycatalog.client.api.SchemasApi.listSchemas(SchemasApi.java:334)\n  at io.unitycatalog.connectors.spark.UCProxy.listNamespaces(../spark-connector/UCSingleCatalog.scala:218)\n  at org.apache.spark.sql.connector.catalog.DelegatingCatalogExtension.listNamespaces(DelegatingCatalogExtension.java:140)\n  at io.unitycatalog.connectors.spark.UCSingleCatalog.listNamespaces(../spark-connector/UCSingleCatalog.scala:63)\n  at org.apache.spark.sql.execution.datasources.v2.ShowNamespacesExec.run(ShowNamespacesExec.scala:42)\n  ...\n</code></pre> <p>Querying <code>unity</code> catalog works just fine.</p> Spark Shell <pre><code>sql(\"SHOW NAMESPACES IN unity\").show()\n</code></pre> <pre><code>+---------+\n|namespace|\n+---------+\n|  default|\n+---------+\n</code></pre> <p>When requested for the tables, <code>UCProxy</code> uses the name of the catalog (i.e., <code>spark_catalog</code>) as the catalog name to talk to the TableService for the table list.</p> Spark Shell <pre><code>sql(\"SHOW TABLES\").show(truncate = false)\n</code></pre> <pre><code>io.unitycatalog.client.ApiException: listTables call failed with: 404 - {\"error_code\":\"NOT_FOUND\",\"details\":[{\"reason\":\"NOT_FOUND\",\"metadata\":{},\"@type\":\"google.rpc.ErrorInfo\"}],\"stack_trace\":null,\"message\":\"Catalog not found: spark_catalog\"}\n  at io.unitycatalog.client.api.TablesApi.getApiException(TablesApi.java:76)\n  at io.unitycatalog.client.api.TablesApi.listTablesWithHttpInfo(TablesApi.java:342)\n  at io.unitycatalog.client.api.TablesApi.listTables(TablesApi.java:317)\n  at io.unitycatalog.connectors.spark.UCProxy.listTables(../spark-connector/UCSingleCatalog.scala:129)\n  at org.apache.spark.sql.connector.catalog.DelegatingCatalogExtension.listTables(DelegatingCatalogExtension.java:68)\n  at io.unitycatalog.connectors.spark.UCSingleCatalog.listTables(../spark-connector/UCSingleCatalog.scala:38)\n  ...\n</code></pre> Spark Shell <pre><code>sql(\"SHOW TABLES IN unity.default\").show(truncate = false)\n</code></pre> <pre><code>+---------+-----------------+-----------+\n|namespace|tableName        |isTemporary|\n+---------+-----------------+-----------+\n|default  |marksheet        |false      |\n|default  |marksheet_uniform|false      |\n|default  |numbers          |false      |\n|default  |user_countries   |false      |\n+---------+-----------------+-----------+\n</code></pre> <p>Let's define <code>spark_catalog</code> in Unity Catalog (to match Spark SQL's session catalog).</p> <pre><code>./bin/uc catalog create --name spark_catalog\n</code></pre> Unity Catalog CLISpark Shell <pre><code>./bin/uc catalog list\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    NAME     \u2502  COMMENT   \u2502PROPERTIES\u2502 CREATED_AT  \u2502UPDATED_AT\u2502                 ID                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502spark_catalog\u2502null        \u2502{}        \u25021722721567116\u2502null      \u2502c3cf6d26-3cba-4071-bdcf-417ecdb45445\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502unity        \u2502Main catalog\u2502{}        \u25021721234405334\u2502null      \u2502f029b870-9468-4f10-badc-630b41e5690d\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>sql(\"SHOW CATALOGS\").show()\n</code></pre> <pre><code>+-------------+\n|      catalog|\n+-------------+\n|spark_catalog|\n|        unity|\n+-------------+\n</code></pre> <p>There's a tiny bug in Unity Catalog with <code>DESC NAMESPACE</code> with just a catalog and no sub-namespace.</p> Spark Shell <pre><code>sql(\"DESC NAMESPACE unity\").show()\n</code></pre> <pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n  at io.unitycatalog.connectors.spark.UCProxy.loadNamespaceMetadata(../spark-connector/UCSingleCatalog.scala:249)\n  at org.apache.spark.sql.connector.catalog.DelegatingCatalogExtension.loadNamespaceMetadata(DelegatingCatalogExtension.java:156)\n  at io.unitycatalog.connectors.spark.UCSingleCatalog.loadNamespaceMetadata(../spark-connector/UCSingleCatalog.scala:72)\n  ...\n</code></pre> <p>Let's create a namespace in <code>unity</code> catalog.</p> <pre><code>sql(\"CREATE NAMESPACE unity.sub_catalog\").show()\n</code></pre> Spark Shell <pre><code>sql(\"DESC NAMESPACE unity.sub_catalog\").show()\n</code></pre> <pre><code>+--------------+-----------+\n|     info_name| info_value|\n+--------------+-----------+\n|  Catalog Name|      unity|\n|Namespace Name|sub_catalog|\n+--------------+-----------+\n</code></pre>"},{"location":"demo/spark-connector/","title":"Demo: Spark Connector","text":"<p>This demo shows how to set up a Spark application (namely <code>spark-shell</code> and <code>pyspark</code>) with Unity Catalog using the Spark Connector module.</p>"},{"location":"demo/spark-connector/#build-spark-connector","title":"Build Spark Connector","text":"<p>Build the Spark Connector module.</p> <pre><code>build/sbt '++2.13' clean package publishLocal spark/publishLocal\n</code></pre> <p>Scala 2.13</p> <p>This demo uses the Scala 2.13 builds of Apache Spark, Delta Lake and Unity Catalog.</p> <p>Unless you built Apache Spark with Scala 2.13, replace any <code>2.13</code> in this demo with <code>2.12</code>.</p> <p>Use <code>spark-shell --version</code> or <code>pyspark --version</code> to learn about your Spark build:</p> <pre><code>\u276f ./bin/pyspark --version\nWelcome to\n    ____              __\n    / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n/___/ .__/\\_,_/_/ /_/\\_\\   version 3.5.2\n    /_/\n\nUsing Scala version 2.13.8, OpenJDK 64-Bit Server VM, 17.0.12\nBranch heads/v3.5.2\nCompiled by user jacek on 2024-08-19T17:24:05Z\nRevision a26a80208d7c96b3e3e898f137a05d69cba759d6\nUrl &lt;https://github.com/apache/spark.git&gt;\nType --help for more information.\n</code></pre> <p>Once the build is finished, you should find the following directories in the local <code>~/.ivy2</code> directory.</p> <pre><code>\u276f ls -l ~/.ivy2/local/io.unitycatalog\ntotal 0\ndrwxr-xr-x@ 3 jacek  staff  96 Sep 22 18:53 unitycatalog-client\ndrwxr-xr-x@ 3 jacek  staff  96 Sep 22 18:53 unitycatalog-server\ndrwxr-xr-x@ 3 jacek  staff  96 Sep 22 18:53 unitycatalog-spark_2.13\n</code></pre> <p>The Spark Connector module is under <code>unitycatalog-spark_2.13/0.2.0-SNAPSHOT/jars</code> directory.</p>"},{"location":"demo/spark-connector/#run-spark-application-with-unity-catalog","title":"Run Spark Application with Unity Catalog","text":"Spark 3.5.2 + Delta Lake 3.2.0PySpark 3.5.2 + Delta Lake 3.2.0Spark 4.0.0-preview1 + Delta Lake 4.0.0rc1 <pre><code>./bin/spark-shell \\\n  --packages \\\n    io.delta:delta-spark_2.13:3.2.0,io.unitycatalog:unitycatalog-spark_2.13:0.2.0-SNAPSHOT \\\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n  --conf spark.sql.catalog.spark_catalog=io.unitycatalog.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.spark_catalog.uri=http://localhost:8080 \\\n  --conf spark.sql.catalog.unity=io.unitycatalog.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.unity.uri=http://localhost:8080\n</code></pre> <pre><code>Welcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /___/ .__/\\_,_/_/ /_/\\_\\   version 3.5.2\n      /_/\n\nUsing Scala version 2.13.8 (OpenJDK 64-Bit Server VM, Java 17.0.12)\n</code></pre> <pre><code>scala&gt; assert(spark.version == \"3.5.2\")\nscala&gt; assert(io.delta.VERSION == \"3.2.0\")\n</code></pre> <pre><code>./bin/pyspark \\\n  --packages \\\n    io.delta:delta-spark_2.13:3.2.0,io.unitycatalog:unitycatalog-spark_2.13:0.2.0-SNAPSHOT \\\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n  --conf spark.sql.catalog.spark_catalog=io.unitycatalog.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.spark_catalog.uri=http://localhost:8080 \\\n  --conf spark.sql.catalog.unity=io.unitycatalog.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.unity.uri=http://localhost:8080\n</code></pre> <pre><code>Welcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /__ / .__/\\_,_/_/ /_/\\_\\   version 3.5.2\n      /_/\n\nUsing Python version 3.9.16 (main, May 15 2023 18:51:40)\n</code></pre> <p>Download Apache Spark 4.0.0-preview1 from Preview release of Spark 4.0.</p> <pre><code>./bin/spark-shell \\\n  --conf spark.jars.ivy=$HOME/.ivy2 \\\n  --packages \\\n    io.delta:delta-spark_2.13:4.0.0rc1,io.unitycatalog:unitycatalog-spark_2.13:0.2.0-SNAPSHOT \\\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n  --conf spark.sql.catalog.spark_catalog=io.unitycatalog.connectors.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.spark_catalog.uri=http://localhost:8080 \\\n  --conf spark.sql.catalog.unity=io.unitycatalog.connectors.spark.UCSingleCatalog \\\n  --conf spark.sql.catalog.unity.uri=http://localhost:8080\n</code></pre> <pre><code>Welcome to\n      ____              __\n    / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n  /___/ .__/\\_,_/_/ /_/\\_\\   version 4.0.0-preview1\n      /_/\n\nUsing Scala version 2.13.14 (OpenJDK 64-Bit Server VM, Java 17.0.11)\n</code></pre> <pre><code>assert(spark4.version == \"4.0.0-preview1\", \"Unity Catalog 0.2.0-SNAPSHOT supports Apache Spark 4.0.0-preview1 only\")\nassert(io.delta4.version == \"4.0.0rc1\", \"Unity Catalog 0.2.0-SNAPSHOT supports Delta Lake 4.0.0rc1 only\")\n</code></pre>"},{"location":"demo/spark-connector/#default-spark_catalog","title":"Default spark_catalog","text":"<p>The following is a list of the catalogs Unity Catalog comes with and knows about.</p> <pre><code>$ ./bin/uc catalog list\n\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502NAME \u2502  COMMENT   \u2502PROPERTIES\u2502 CREATED_AT  \u2502UPDATED_AT\u2502                 ID                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502unity\u2502Main catalog\u2502{}        \u25021720429531248\u2502null      \u2502f68e0329-d510-4558-b984-457218f573d9\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>There is no <code>spark_catalog</code> catalog listed (as it is the default internal Spark SQL catalog).</p> <p>The following is a list of the catalogs Spark SQL knows about.</p> <pre><code>spark.catalog.listCatalogs().show()\n</code></pre> <pre><code>+-------------+-----------+\n|         name|description|\n+-------------+-----------+\n|spark_catalog|       NULL|\n+-------------+-----------+\n</code></pre> <p>There is the default <code>spark_catalog</code> catalog (but no Unity Catalog-specific <code>unity</code> catalog).</p> <pre><code>spark.catalog.listDatabases().show()\n</code></pre> <pre><code>+----+-------------+-----------+-----------+\n|name|      catalog|description|locationUri|\n+----+-------------+-----------+-----------+\n|demo|spark_catalog|       NULL|       NULL|\n+----+-------------+-----------+-----------+\n</code></pre> <pre><code>assert(spark.catalog.currentCatalog() == \"spark_catalog\")\n</code></pre> <pre><code>spark.catalog.setCurrentCatalog(\"unity\")\n</code></pre> <pre><code>scala&gt; spark.catalog.listTables(\"default\")\nio.unitycatalog.client.ApiException: listTables call failed with: 404 - {\"error_code\":\"NOT_FOUND\",\"details\":[{\"reason\":\"NOT_FOUND\",\"metadata\":{},\"@type\":\"google.rpc.ErrorInfo\"}],\"stack_trace\":null,\"message\":\"Schema not found: default\"}\n  at io.unitycatalog.client.api.TablesApi.getApiException(TablesApi.java:76)\n  at io.unitycatalog.client.api.TablesApi.listTablesWithHttpInfo(TablesApi.java:342)\n  at io.unitycatalog.client.api.TablesApi.listTables(TablesApi.java:317)\n  at io.unitycatalog.spark.UCProxy.listTables(UCSingleCatalog.scala:168)\n  at org.apache.spark.sql.connector.catalog.DelegatingCatalogExtension.listTables(DelegatingCatalogExtension.java:68)\n  at io.unitycatalog.spark.UCSingleCatalog.listTables(UCSingleCatalog.scala:52)\n...\n</code></pre> <p>Let's create <code>spark_catalog</code> in Unity Catalog.</p> <pre><code>./bin/uc catalog create --name spark_catalog\n</code></pre> <pre><code>./bin/uc schema create --catalog spark_catalog --name default\n</code></pre> <pre><code>./bin/uc table create \\\n    --full_name spark_catalog.default.uc_demo \\\n    --columns 'id INT' \\\n    --storage_location /tmp/uc_demo \\\n    --format delta\n</code></pre> <pre><code>\u276f tree /tmp/uc_demo\n/tmp/uc_demo\n\u2514\u2500\u2500 _delta_log\n    \u2514\u2500\u2500 00000000000000000000.json\n\n2 directories, 1 file\n</code></pre> <pre><code>scala&gt; spark.catalog.listTables()\norg.apache.spark.sql.catalyst.parser.ParseException:\n[PARSE_SYNTAX_ERROR] Syntax error at or near end of input.(line 1, pos 0)\n\n== SQL ==\n\n^^^\n\n  at org.apache.spark.sql.catalyst.parser.ParseException.withCommand(parsers.scala:257)\n  at org.apache.spark.sql.catalyst.parser.AbstractParser.parse(parsers.scala:98)\n  at org.apache.spark.sql.execution.SparkSqlParser.parse(SparkSqlParser.scala:54)\n  at org.apache.spark.sql.catalyst.parser.AbstractSqlParser.parseMultipartIdentifier(AbstractSqlParser.scala:54)\n  at io.delta.sql.parser.DeltaSqlParser.parseMultipartIdentifier(DeltaSqlParser.scala:153)\n  at org.apache.spark.sql.internal.CatalogImpl.parseIdent(CatalogImpl.scala:51)\n  at org.apache.spark.sql.internal.CatalogImpl.resolveNamespace(CatalogImpl.scala:427)\n  at org.apache.spark.sql.internal.CatalogImpl.listTablesInternal(CatalogImpl.scala:143)\n  at org.apache.spark.sql.internal.CatalogImpl.listTables(CatalogImpl.scala:127)\n  at org.apache.spark.sql.internal.CatalogImpl.listTables(CatalogImpl.scala:118)\n  ... 42 elided\n</code></pre> <p>Switch back to <code>spark_catalog</code> catalog.</p> <pre><code>sql(\"SET CATALOG spark_catalog\")\n</code></pre> <p>We've registered an empty <code>uc_demo</code> table in Unity Catalog already.</p> <pre><code>assert(spark.catalog.tableExists(\"uc_demo\"))\n</code></pre> <p>It was equivalent to the following query:</p> <pre><code>assert(spark.catalog.tableExists(\"default.uc_demo\"))\n</code></pre> <p>Let's change (write to) the <code>uc_demo</code> delta table that was registered to Unity Catalog.</p> <pre><code>sql(\"INSERT INTO uc_demo(id) VALUES (1)\").show(truncate=false)\n</code></pre> <p>It works! \ud83e\udd73</p> <p>Let's query (read from) the <code>uc_demo</code> delta table.</p> <pre><code>spark.table(\"uc_demo\").show\n</code></pre> <pre><code>+---+\n| id|\n+---+\n|  1|\n+---+\n</code></pre>"},{"location":"demo/spark-connector/#unity-catalog","title":"unity Catalog","text":"<p>Unity Catalog is accessible using <code>unity</code> catalog ID.</p> <pre><code>sql(\"SET CATALOG unity\")\n</code></pre> <pre><code>spark.catalog.listCatalogs().show()\n</code></pre> <pre><code>+-------------+-----------+\n|         name|description|\n+-------------+-----------+\n|spark_catalog|       NULL|\n|        unity|       NULL|\n+-------------+-----------+\n</code></pre> <pre><code>spark.catalog.listDatabases().show()\n</code></pre> <pre><code>+-------+-------+--------------+-----------+\n|   name|catalog|   description|locationUri|\n+-------+-------+--------------+-----------+\n|default|  unity|Default schema|       NULL|\n+-------+-------+--------------+-----------+\n</code></pre> <pre><code>assert(spark.catalog.tableExists(\"unity.default.numbers\"))\n</code></pre> <pre><code>sql(\"DESC EXTENDED unity.default.numbers\").show(truncate=false)\n</code></pre> <pre><code>+----------------------------+-----------------------------------------------------------------------------------------+-------+\n|col_name                    |data_type                                                                                |comment|\n+----------------------------+-----------------------------------------------------------------------------------------+-------+\n|as_int                      |int                                                                                      |NULL   |\n|as_double                   |double                                                                                   |NULL   |\n|                            |                                                                                         |       |\n|# Detailed Table Information|                                                                                         |       |\n|Name                        |unity.default.numbers                                                                    |       |\n|Type                        |EXTERNAL                                                                                 |       |\n|Location                    |file:/Users/jacek/dev/oss/unitycatalog/etc/data/external/unity/default/tables/numbers    |       |\n|Provider                    |delta                                                                                    |       |\n|Table Properties            |[delta.minReaderVersion=1,delta.minWriterVersion=2,option.key1=value1,option.key2=value2]|       |\n+----------------------------+-----------------------------------------------------------------------------------------+-------+\n</code></pre> <pre><code>./bin/uc table get --full_name unity.default.numbers\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              KEY              \u2502                                                                    VALUE                                                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                           \u2502numbers                                                                                                                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME                   \u2502unity                                                                                                                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME                    \u2502default                                                                                                                                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_TYPE                     \u2502EXTERNAL                                                                                                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502DATA_SOURCE_FORMAT             \u2502DELTA                                                                                                                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COLUMNS                        \u2502{\"name\":\"as_int\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"as_int\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":false,\\\"metadata\\\":{}}\",\"type_name\":\"I\u2502\n\u2502                               \u2502NT\",\"type_precision\":0,\"type_scale\":0,\"type_interval_type\":null,\"position\":0,\"comment\":\"Int column\",\"nullable\":false,\"partition_index\":null} \u2502\n\u2502                               \u2502{\"name\":\"as_double\",\"type_text\":\"double\",\"type_json\":\"{\\\"name\\\":\\\"as_double\\\",\\\"type\\\":\\\"double\\\",\\\"nullable\\\":false,\\\"metadata\\\":{}}\",\"type_\u2502\n\u2502                               \u2502name\":\"DOUBLE\",\"type_precision\":0,\"type_scale\":0,\"type_interval_type\":null,\"position\":1,\"comment\":\"Double                                    \u2502\n\u2502                               \u2502column\",\"nullable\":false,\"partition_index\":null}                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502STORAGE_LOCATION               \u2502file:///Users/jacek/dev/oss/unitycatalog/etc/data/external/unity/default/tables/numbers/                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT                        \u2502External table                                                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES                     \u2502{\"key1\":\"value1\",\"key2\":\"value2\"}                                                                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502OWNER                          \u2502null                                                                                                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT                     \u25021721234405617                                                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_BY                     \u2502null                                                                                                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT                     \u25021721234405617                                                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_BY                     \u2502null                                                                                                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_ID                       \u250232025924-be53-4d67-ac39-501a86046c01                                                                                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"docker/","title":"Docker Support","text":"<p>As of this commit, Unity Catalog's Localhost Server and CLI can be launched in a Docker container.</p>"},{"location":"docker/#build-docker-image","title":"Build Docker Image","text":"<pre><code>./docker/bin/build-uc-server-docker\n</code></pre> <pre><code>./docker/bin/build-uc-cli-docker\n</code></pre>"},{"location":"docker/#run-unity-catalog-in-docker","title":"Run Unity Catalog in Docker","text":"<pre><code>$ docker image ls --filter=reference='unitycatalog:*'\nREPOSITORY     TAG              IMAGE ID       CREATED         SIZE\nunitycatalog   0.2.0-SNAPSHOT   c788d0d453b6   8 minutes ago   329MB\n</code></pre> <pre><code>./docker/bin/start-uc-server-in-docker\n</code></pre>"},{"location":"features/","title":"Unity Catalog","text":"<p>Unity Catalog is an open-source universal catalog of the following assets:</p> <ul> <li>Catalogs</li> <li>Credentials (for Tables and Volumes)</li> <li>Functions</li> <li>Schemas</li> <li>Tables</li> <li>Volumes</li> </ul> <p>Unity Catalog is made up of the following runtimes:</p> <ul> <li>Reference Server</li> <li>Example CLI (based on the Client API)</li> </ul> <p>The server and CLI can be started on command line using <code>bin/start-uc-server</code> and <code>bin/uc</code> shell scripts, respectively.</p>"},{"location":"features/#different-kinds-of-catalogs","title":"Different Kinds of Catalogs","text":"<p>As Jason Reid posted on the unity-catalog slack channel (quoted with some styling changes):</p> <p>First, a bit of clarification on the term \"catalog\" which is unfortunately overloaded. It is common to differentiate between so-called \"business catalogs\" and \"operational catalogs\".</p> <p>Operational catalogs are what query engines use to read and write data. They track table schema and state and are often involved in transaction management.</p> <p>Examples: Hive Metastore, Unity Catalog, AWS Glue, Polaris</p> <p>Business catalogs are designed primarily for discovery. They typically aggregate metadata from a wide variety of data systems and make it easy to search.</p> <p>Examples: Atlan, DataHub, Alation</p> <p>For security, that is typically enforced by a combination of an operational catalog (where policy is defined) and the query engine (where policy is enforced).</p> <p>There are some solutions for policy management which can push policy into multiple systems.</p> <p>Examples: Immuta, Privacera</p>"},{"location":"features/#running-unity-catalog","title":"Running Unity Catalog","text":"<p>Java 17 or above is required to build and run Unity Catalog.</p> <pre><code>$ java --version\nopenjdk 17.0.12 2024-07-16 LTS\nOpenJDK Runtime Environment Zulu17.52+17-CA (build 17.0.12+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.52+17-CA (build 17.0.12+7-LTS, mixed mode, sharing)\n</code></pre> <pre><code>$ ./bin/start-uc-server\n###################################################################\n#  _    _       _ _            _____      _        _              #\n# | |  | |     (_) |          / ____|    | |      | |             #\n# | |  | |_ __  _| |_ _   _  | |     __ _| |_ __ _| | ___   __ _  #\n# | |  | | '_ \\| | __| | | | | |    / _` | __/ _` | |/ _ \\ / _` | #\n# | |__| | | | | | |_| |_| | | |___| (_| | || (_| | | (_) | (_| | #\n#  \\____/|_| |_|_|\\__|\\__, |  \\_____\\__,_|\\__\\__,_|_|\\___/ \\__, | #\n#                      __/ |                                __/ | #\n#                     |___/               v0.2.0-SNAPSHOT  |___/  #\n###################################################################\n</code></pre> <pre><code>$ ./bin/uc\nPlease provide a entity.\n\nUsage: bin/uc &lt;entity&gt; &lt;operation&gt; [options]\nEntities: schema, volume, catalog, function, table\n\nBy default, the client will connect to UC running locally at http://localhost:8080\n\nTo connect to specific UC server, use --server https://&lt;host&gt;\n\nCurrently, auth using bearer token is supported. Please specify the token via --auth_token &lt;PAT Token&gt;\n\nFor detailed help on entity specific operations, use bin/uc &lt;entity&gt; --help\n</code></pre> <pre><code>$ ./bin/uc table list --catalog unity --schema default\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      NAME       \u2502CATALOG_NAME\u2502SCHEMA_NAME \u2502 TABLE_TYPE \u2502DATA_SOURCE_\u2502  COLUMNS   \u2502STORAGE_LOCA\u2502  COMMENT   \u2502 PROPERTIES \u2502 CREATED_AT \u2502 UPDATED_AT \u2502              TABLE_ID              \u2502\n\u2502                 \u2502            \u2502            \u2502            \u2502   FORMAT   \u2502            \u2502    TION    \u2502            \u2502            \u2502            \u2502            \u2502                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502marksheet        \u2502unity       \u2502default     \u2502MANAGED     \u2502DELTA       \u2502[{\"name\":...\u2502file:///U...\u2502Managed t...\u2502{\"key1\":\"...\u2502172123440...\u2502172123440...\u2502c389adfa-5c8f-497b-8f70-26c2cca4976d\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502marksheet_uniform\u2502unity       \u2502default     \u2502EXTERNAL    \u2502DELTA       \u2502[{\"name\":...\u2502file:///t...\u2502Uniform t...\u2502{\"key1\":\"...\u2502172123440...\u2502172123440...\u25029a73eb46-adf0-4457-9bd8-9ab491865e0d\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502numbers          \u2502unity       \u2502default     \u2502EXTERNAL    \u2502DELTA       \u2502[{\"name\":...\u2502file:///U...\u2502External ...\u2502{\"key1\":\"...\u2502172123440...\u2502172123440...\u250232025924-be53-4d67-ac39-501a86046c01\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502user_countries   \u2502unity       \u2502default     \u2502EXTERNAL    \u2502DELTA       \u2502[{\"name\":...\u2502file:///U...\u2502Partition...\u2502{}          \u2502172123440...\u2502172123440...\u250226ed93b5-9a18-4726-8ae8-c89dfcfea069\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>$ ./bin/uc table get --full_name unity.default.marksheet --output jsonPretty\n{\n  \"name\" : \"marksheet\",\n  \"catalog_name\" : \"unity\",\n  \"schema_name\" : \"default\",\n  \"table_type\" : \"MANAGED\",\n  \"data_source_format\" : \"DELTA\",\n  \"columns\" : [ {\n  ...\n  } ],\n  \"storage_location\" : \"file:///Users/jacek/dev/oss/unitycatalog/etc/data/managed/unity/default/tables/marksheet/\",\n  \"comment\" : \"Managed table\",\n  \"properties\" : {\n    \"key1\" : \"value1\",\n    \"key2\" : \"value2\"\n  },\n  \"created_at\" : 1721234405595,\n  \"updated_at\" : 1721234405595,\n  \"table_id\" : \"c389adfa-5c8f-497b-8f70-26c2cca4976d\"\n}\n</code></pre>"},{"location":"features/#learning-resources","title":"Learning Resources","text":"<ol> <li>Open Sourcing Unity Catalog</li> <li>Getting Started with X-Table and Unity Catalog | Universal Datalakes | Hands on Labs with an accompanying video on YouTube</li> <li>Unitycatalog: the first look</li> </ol>"},{"location":"iceberg/","title":"Iceberg Support","text":"<p>Unity Catalog supports loading Apache Iceberg tables located in local path and S3 in IcebergRestCatalogService.</p> Note <p>This support was added through this commit.</p>"},{"location":"iceberg/FileIOFactory/","title":"FileIOFactory","text":"<p><code>FileIOFactory</code> is...FIXME</p>"},{"location":"iceberg/IcebergRestCatalogService/","title":"IcebergRestCatalogService \u2014 Apache Iceberg REST APIs","text":"<p><code>IcebergRestCatalogService</code> is a Unity Catalog API service to handle HTTP requests at /api/2.1/unity-catalog/iceberg URL.</p> Method URL Handler Params GET <code>/v1/config</code> config GET <code>/v1/namespaces/[namespace]</code> getNamespace <code>namespace</code> GET <code>/v1/namespaces</code> listNamespaces <code>parent</code> GET <code>/v1/namespaces/[namespace]/tables</code> listTables <code>namespace</code> GET <code>/v1/namespaces/[namespace]/tables/[table]</code> loadTable <code>namespace</code><code>table</code> POST <code>/v1/namespaces/[namespace]/tables/[table]/metrics</code> reportMetrics <code>namespace</code><code>table</code> HEAD <code>/v1/namespaces/[namespace]/tables/[table]</code> tableExists <code>namespace</code><code>table</code> <p><code>IcebergRestCatalogService</code> uses Hibernate.</p>"},{"location":"iceberg/IcebergRestCatalogService/#create-instance","title":"Create Instance","text":"<p><code>IcebergRestCatalogService</code> takes the following to be created:</p> <ul> <li>CatalogService</li> <li> SchemaService <li> TableService <li>MetadataService</li> <p><code>IcebergRestCatalogService</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> is requested to add the API services</li> </ul>"},{"location":"iceberg/IcebergRestCatalogService/#metadataService","title":"MetadataService","text":"<p><code>IcebergRestCatalogService</code> is given a MetadataService when created.</p> <p>This <code>MetadataService</code> is used to load an iceberg table.</p>"},{"location":"iceberg/IcebergRestCatalogService/#catalogService","title":"CatalogService","text":"<p><code>IcebergRestCatalogService</code> is given a CatalogService when created.</p> <p>This <code>CatalogService</code> is used for the following:</p> <ul> <li>listNamespaces with no parent</li> <li>getNamespace with the catalog only (the first layer of Unity Catalog's three-level namespace)</li> </ul>"},{"location":"iceberg/IcebergRestCatalogService/#sessionFactory","title":"SessionFactory","text":"<p><code>IcebergRestCatalogService</code> creates a SessionFactory when created.</p> <p>This <code>SessionFactory</code> is used for the following:</p> <ul> <li>tableExists</li> <li>loadTable</li> <li>listTables</li> </ul>"},{"location":"iceberg/IcebergRestCatalogService/#loadTable","title":"Load Table","text":"<pre><code>LoadTableResponse loadTable(\n  String namespace,\n  String table)\n</code></pre> <p><code>loadTable</code> expects the given <code>namespace</code> to be two-part and splits it into catalog and schema parts (using <code>.</code> as the separator).</p> <p><code>loadTable</code> requests the TableRepository to get the table metadata (by the given <code>namespace</code> and <code>table</code> separated using <code>.</code>).</p> <p><code>loadTable</code> requests the TableRepository for the uniform metadata location (by the catalog, schema and the given <code>table</code>).</p> <p><code>loadTable</code> requests the MetadataService for the TableMetadata for the uniform metadata location.</p> <p>In the end, <code>loadTable</code> responds with the <code>TableMetadata</code>.</p>"},{"location":"iceberg/MetadataService/","title":"MetadataService","text":"<p><code>MetadataService</code> is part of IcebergRestCatalogService.</p>"},{"location":"iceberg/MetadataService/#creating-instance","title":"Creating Instance","text":"<p><code>MetadataService</code> takes the following to be created:</p> <ul> <li>FileIOFactory</li> </ul> <p><code>MetadataService</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> is requested to register the API services</li> </ul>"},{"location":"iceberg/MetadataService/#fileIOFactory","title":"FileIOFactory","text":"<p><code>MetadataService</code> is given a FileIOFactory when [created]</p>"},{"location":"iceberg/MetadataService/#readTableMetadata","title":"readTableMetadata","text":"<pre><code>TableMetadata readTableMetadata(\n  String metadataLocation)\n</code></pre> <p><code>readTableMetadata</code>...FIXME</p> <p><code>readTableMetadata</code> is used when:</p> <ul> <li><code>IcebergRestCatalogService</code> is requested to load an iceberg table</li> </ul>"},{"location":"oauth2-authentication/","title":"OAuth2 Authentication","text":"<p>Unity Catalog supports OAuth2 Authentication.</p>"},{"location":"oauth2-authentication/#unity-catalog-cli","title":"Unity Catalog CLI","text":"<p>Unity Catalog CLI comes with auth sub-commands for OAuth2 authentication.</p> <pre><code>\u276f ./bin/uc auth --help\nPlease provide a valid sub-command for auth.\nValid sub-commands for auth are: login\nFor detailed help on auth sub-commands, use bin/uc auth &lt;sub-command&gt; --help\n</code></pre> <p>There is just a single login sub-command supported.</p> <pre><code>\u276f ./bin/uc auth login --help\nUsage: bin/uc auth login [options]\nRequired Params:\nOptional Params:\n  --server UC Server to connect to. Default is reference server.\n  --auth_token PAT token to authorize uc requests.\n  --output To indicate CLI output format preference. Supported values are json and jsonPretty.\n  --identity_token Identity token to authorize\n</code></pre> <p>login sub-command works differently based on <code>identity_token</code> optional param. Unless specified on command line, login uses Oauth2CliExchange to authenticate and generate an identity token.</p> <p>The identity token is used as <code>subject_token</code> query parameter for a POST request to <code>/auth/tokens</code> API endpoint with the other query parameters:</p> Query Parameter Value <code>grant_type</code> <code>urn:ietf:params:oauth:grant-type:token-exchange</code> <code>requested_token_type</code> <code>urn:ietf:params:oauth:token-type:access_token</code> <code>subject_token_type</code> <code>urn:ietf:params:oauth:token-type:id_token</code> <code>subject_token</code> Identity token <p>That gives an <code>access_token</code> back.</p>"},{"location":"oauth2-authentication/AuthCallbackHandler/","title":"AuthCallbackHandler","text":"<p><code>AuthCallbackHandler</code> is...FIXME</p>"},{"location":"oauth2-authentication/Oauth2CliExchange/","title":"Oauth2CliExchange","text":"<p><code>Oauth2CliExchange</code> is a simple OAuth2 authentication flow for the CLI (to login).</p>"},{"location":"oauth2-authentication/Oauth2CliExchange/#serverProperties","title":"etc/conf/server.properties","text":"<p><code>Oauth2CliExchange</code> loads <code>etc/conf/server.properties</code> into the serverProperties when created.</p> <p>Note</p> <p>The path <code>etc/conf/server.properties</code> is fixed and cannot be changed.</p>"},{"location":"oauth2-authentication/Oauth2CliExchange/#creating-instance","title":"Creating Instance","text":"<p><code>Oauth2CliExchange</code> takes no arguments to be created.</p> <p>While being created, <code>Oauth2CliExchange</code> loads <code>etc/conf/server.properties</code> into the serverProperties.</p> <p><code>Oauth2CliExchange</code> is created when:</p> <ul> <li><code>AuthCli</code> is requested to login</li> </ul>"},{"location":"oauth2-authentication/Oauth2CliExchange/#authenticate","title":"Authenticate","text":"<pre><code>String authenticate()\n</code></pre> <p><code>authenticate</code> returns an identity token.</p> <p><code>authenticate</code> reads the following server properties (from etc/conf/server.properties):</p> <ul> <li><code>server.authorization-url</code></li> <li><code>server.token-url</code></li> <li><code>server.client-id</code></li> <li><code>server.client-secret</code></li> <li>server.redirect-port</li> </ul> <p><code>authenticate</code> starts an <code>HttpServer</code> to listen on the port (based on server.redirect-port) and an AuthCallbackHandler to handle the root path <code>/</code>.</p> <p><code>authenticate</code> prints out the following message to the console:</p> <pre><code>Listening on port: [port]\n</code></pre> <p><code>authenticate</code> builds an auth URL as follows:</p> URL Part Value <code>redirectUrl</code> <code>server.authorization-url</code> configuration property <code>client_id</code> <code>server.client-id</code> configuration property <code>redirect_uri</code> <code>http://localhost:[port]</code> <code>response_type</code> <code>code</code> <code>scope</code> <code>openid profile email</code> <code>state</code> Some random 16 bytes <p><code>authenticate</code> prints out the following message to the console:</p> <pre><code>Attempting to open the authorization page in your default browser.\nIf the browser does not open, you can manually open the following URL:\n[authURL]\n</code></pre> <p><code>authenticate</code> uses <code>/usr/bin/open</code> to open the auth URL (in the default browser).</p> <p>Note</p> <p>Any exceptions while trying to open the browser with the auth URL are simply ignored.</p> <p><code>authenticate</code> requests the <code>AuthCallbackHandler</code> for the auth code.</p> <p><code>authenticate</code> prints out the following message to the console:</p> <pre><code>Received authentication response.\n</code></pre> <p><code>authenticate</code> stops the <code>HttpServer</code>.</p> <p><code>authenticate</code>...FIXME</p> <p><code>authenticate</code> is used when:</p> <ul> <li><code>AuthCli</code> is requested to login</li> </ul>"},{"location":"persistent-storage/","title":"Persistent Storage","text":"<p>Unity Catalog's Localhost Reference Server uses Hibernate as the persistence layer to manage asset metadata.</p> <p>Unity Catalog uses <code>etc/conf/hibernate.properties</code> configuration file to set up a JDBC-compatible database system. There are sample configuration files for MySQL and PostgreSQL.</p> <p>By default, Localhost Reference Server uses H2 Database Engine to store metadata (in <code>etc/db/h2db.mv.db</code> file).</p> <p>With <code>server.env</code> property being <code>test</code>, Unity Catalog uses the following properties:</p> Hibernate Property Value <code>hibernate.connection.driver_class</code> <code>org.h2.Driver</code> <code>hibernate.connection.url</code> <code>jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1</code> <code>hibernate.hbm2ddl.auto</code> <code>create-drop</code>"},{"location":"persistent-storage/CatalogRepository/","title":"CatalogRepository","text":""},{"location":"persistent-storage/FunctionRepository/","title":"FunctionRepository","text":""},{"location":"persistent-storage/FunctionRepository/#SESSION_FACTORY","title":"SessionFactory","text":"<p><code>FunctionRepository</code> gets at SessionFactory in a static initializer.</p> Static Initializer <p>A static initializer declared in a class is executed when the class is initialized.</p> <p>Learn more in the Java Language Specification.</p> <p>This <code>SessionFactory</code> is used for the following:</p> <ul> <li>createFunction</li> <li>listFunctions</li> <li>getFunction</li> <li>deleteFunction</li> </ul>"},{"location":"persistent-storage/FunctionRepository/#listFunctions","title":"Listing Functions","text":"<pre><code>ListFunctionsResponse listFunctions(\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; nextPageToken)\n</code></pre> <p><code>listFunctions</code> requests this SchemaRepository for the SchemaInfoDAO for the given catalog (<code>catalogName</code>) and schema (<code>schemaName</code>).</p> <p><code>listFunctions</code> creates the following Hibernate query (with the <code>schemaId</code> parameter being the ID of the schema):</p> <pre><code>from FunctionInfoDAO f where f.schemaId = [schemaId]\n</code></pre> <p>In the end, <code>listFunctions</code> executes the query to list all the registered functions.</p> <p><code>listFunctions</code> is used when:</p> <ul> <li><code>FunctionService</code> is requested to list functions</li> </ul>"},{"location":"persistent-storage/HibernateUtil/","title":"HibernateUtil","text":"<p><code>HibernateUtil</code> is used to access the system-wide SessionFactory (Hibernate).</p>"},{"location":"persistent-storage/HibernateUtil/#properties","title":"PropertiesUtil","text":"<p><code>HibernateUtil</code> gets at the only instance of PropertiesUtil in a static initializer.</p> Static Initializer <p>A static initializer declared in a class is executed when the class is initialized.</p> <p>Learn more in the Java Language Specification.</p>"},{"location":"persistent-storage/HibernateUtil/#sessionFactory","title":"SessionFactory","text":"<p><code>HibernateUtil</code> creates a SessionFactory in a static initializer.</p> Static Initializer <p>A static initializer declared in a class is executed when the class is initialized.</p> <p>Learn more in the Java Language Specification.</p> <p>This <code>SessionFactory</code> is used by the following:</p> <ul> <li>CatalogRepository</li> <li>FunctionRepository</li> <li>SchemaRepository</li> <li>TableRepository</li> <li>VolumeRepository</li> <li>IcebergRestCatalogService</li> </ul>"},{"location":"persistent-storage/HibernateUtil/#createSessionFactory","title":"createSessionFactory","text":"<pre><code>SessionFactory createSessionFactory()\n</code></pre> Static Method <p><code>createSessionFactory</code> is a Java class method that is always invoked without reference to a particular object.</p> <p>Learn more in the Java Language Specification.</p> <p><code>createSessionFactory</code>...FIXME</p>"},{"location":"persistent-storage/ModelRepository/","title":"ModelRepository","text":""},{"location":"persistent-storage/ModelRepository/#logging","title":"Logging","text":"<p>Enable <code>ALL</code> logging level for <code>io.unitycatalog.server.persist.ModelRepository</code> logger to see what happens inside.</p> <p>Add the following line to <code>etc/conf/server.log4j2.properties</code>:</p> <pre><code>logger.ModelRepository.name = io.unitycatalog.server.persist.ModelRepository\nlogger.ModelRepository.level = all\n</code></pre> <p>Refer to Logging.</p>"},{"location":"persistent-storage/PagedListingHelper/","title":"PagedListingHelper","text":"<p><code>PagedListingHelper</code> is...FIXME</p>"},{"location":"persistent-storage/PropertiesUtil/","title":"PropertiesUtil","text":"<p><code>PropertiesUtil</code> is a system-wide configuration of S3 buckets</p>"},{"location":"persistent-storage/PropertiesUtil/#loadProperties","title":"Loading S3 Bucket Configuration","text":"<pre><code>void loadProperties()\n</code></pre> <p><code>loadProperties</code> loads the key-value pairs from <code>etc/conf/server.properties</code> file into the Properties.</p> <p><code>loadProperties</code> prints out the following DEBUG message to the logs:</p> <pre><code>Properties loaded successfully\n</code></pre> <p><code>loadProperties</code> creates a S3BucketConfig for every tuple of the following properties:</p> <ul> <li><code>s3.bucketPath.[n]</code></li> <li><code>s3.accessKey.[n]</code></li> <li><code>s3.secretKey.[n]</code></li> <li><code>s3.sessionToken.[n]</code></li> </ul> <p>Note</p> <p><code>loadProperties</code> silently skips processing a tuple if any of the properties is undefined (<code>null</code>).</p> <p>In the end, <code>loadProperties</code> registers the <code>S3BucketConfig</code>s by <code>s3.bucketPath</code>.</p> <p><code>loadProperties</code> is used when:</p> <ul> <li><code>PropertiesUtil</code> is created</li> </ul>"},{"location":"persistent-storage/PropertiesUtil/#getS3BucketConfig","title":"Looking Up S3BucketConfig by S3 Path","text":"<pre><code>S3BucketConfig getS3BucketConfig(\n  String s3Path)\n</code></pre> <p><code>getS3BucketConfig</code> creates a URI for the given <code>s3Path</code>.</p> <p><code>getS3BucketConfig</code> creates a bucket path for the following URI parts (separated using <code>://</code>):</p> <ul> <li>Scheme</li> <li>Host</li> </ul> <p><code>getS3BucketConfig</code> uses the bucket path (<code>scheme://host</code>) to look up the <code>S3BucketConfig</code> in the Properties.</p> <p><code>getS3BucketConfig</code> is used when:</p> <ul> <li><code>TemporaryCredentialUtils</code> is requested to find a S3 bucket config</li> </ul>"},{"location":"persistent-storage/RepositoryUtils/","title":"RepositoryUtils","text":""},{"location":"persistent-storage/RepositoryUtils/#getSchemaId","title":"getSchemaId","text":"<pre><code>UUID getSchemaId(\n  Session session,\n  String catalogName,\n  String schemaName)\n</code></pre> <p><code>getSchemaId</code> requests the system-wide SchemaRepository for the SchemaInfoDAO for the given <code>catalogName</code> and <code>schemaName</code>.</p> BaseException <p><code>getSchemaId</code> reports a <code>BaseException</code> when there is no schema found (by the given <code>catalogName</code> and <code>schemaName</code>).</p> <pre><code>Schema not found: [schemaName]\"\n</code></pre> <p>In the end, <code>getSchemaId</code> returns the ID of the schema.</p> <p><code>getSchemaId</code> is used when:</p> <ul> <li><code>ModelRepository</code> is requested to findRegisteredModel, createRegisteredModel, listRegisteredModels, etc.</li> </ul>"},{"location":"persistent-storage/S3BucketConfig/","title":"S3BucketConfig","text":"<p><code>S3BucketConfig</code> is a S3 bucket configuration.</p> <p><code>S3BucketConfig</code> is used when:</p> <ul> <li><code>TemporaryCredentialUtils</code> is requested to findS3BucketConfig</li> <li><code>PropertiesUtil</code> is requested to getS3BucketConfig</li> </ul>"},{"location":"persistent-storage/S3BucketConfig/#creating-instance","title":"Creating Instance","text":"<p><code>S3BucketConfig</code> takes the following to be created:</p> <ul> <li> <code>bucketPath</code> <li> <code>accessKey</code> <li> <code>secretKey</code> <li> <code>sessionToken</code> <p><code>S3BucketConfig</code> is created when:</p> <ul> <li><code>PropertiesUtil</code> is requested to loadProperties</li> </ul>"},{"location":"persistent-storage/SchemaRepository/","title":"SchemaRepository","text":""},{"location":"persistent-storage/SchemaRepository/#getSchemaDAO","title":"Find SchemaDAO by Catalog and Schema Names","text":"<pre><code>SchemaInfoDAO getSchemaDAO(\n  Session session,\n  String catalogName,\n  String schemaName)\n</code></pre> <p><code>getSchemaDAO</code> requests the system-wide CatalogRepository for the CatalogInfoDAO.</p> BaseException <p><code>getSchemaId</code> reports a <code>BaseException</code> when the <code>catalogName</code> catalog could not be found.</p> <pre><code>Catalog not found: [catalogName]\"\n</code></pre> <p>In the end, <code>getSchemaDAO</code> finds the SchemaInfoDAO for the catalog and the <code>schemaName</code> schema.</p> <p><code>getSchemaDAO</code> is used when:</p> <ul> <li><code>FunctionRepository</code> is requested to createFunction, getSchemaId, getFunctionDAO, deleteFunction</li> <li><code>SchemaRepository</code> is requested to createSchema, getSchemaDAO, updateSchema</li> <li><code>TableRepository</code> is requested to getSchemaId</li> <li><code>VolumeRepository</code> is requested to createVolume, getVolumeDAO, listVolumes, deleteVolume</li> <li><code>RepositoryUtils</code> is requested to getSchemaId</li> </ul>"},{"location":"persistent-storage/SchemaRepository/#getSchemaDAO-catalogId","title":"Find SchemaDAO by Catalog ID and Schema Name","text":"<pre><code>SchemaInfoDAO getSchemaDAO(\n  Session session,\n  UUID catalogId,\n  String schemaName)\n</code></pre> <p><code>getSchemaDAO</code> creates the following query (using the given <code>Session</code>) for the given <code>schemaName</code> and <code>catalogId</code>:</p> <pre><code>FROM SchemaInfoDAO WHERE name = [schemaName] and catalogId = :catalogId\n</code></pre> <p><code>getSchemaDAO</code> executes the query and returns a single result of the query, or <code>null</code> if the query returns no results.</p> <p><code>getSchemaDAO</code> is used when:</p> <ul> <li><code>SchemaRepository</code> is requested to delete a schema</li> </ul>"},{"location":"persistent-storage/TableRepository/","title":"TableRepository","text":""},{"location":"persistent-storage/TableRepository/#createTable","title":"Persist Table Metadata","text":"<pre><code>TableInfo createTable(\n  CreateTable createTable)\n</code></pre> <p><code>createTable</code> creates a <code>TableInfo</code> with randomly-generated UUID as the table ID and the other metadata.</p> <p><code>createTable</code> prints out the following DEBUG message to the logs:</p> <pre><code>Creating table: [fullName]\n</code></pre> <p><code>MANAGED</code> tables are not supported yet</p> <p><code>createTable</code> asserts that <code>storage_location</code> is specified for an EXTERNAL table.</p> <p><code>createTable</code> persists the table's properties (to <code>uc_properties</code> table using <code>PropertyDAO</code>).</p> <p>In the end, <code>createTable</code> persists the table metadata.</p> <p><code>createTable</code> is used when:</p> <ul> <li><code>TableService</code> is requested to create a table metadata</li> </ul>"},{"location":"persistent-storage/TableRepository/#listTables","title":"List Tables","text":"<pre><code>ListTablesResponse listTables(\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; pageToken,\n  Boolean omitProperties,\n  Boolean omitColumns)  // (1)!\nListTablesResponse listTables(\n  Session session,\n  UUID schemaId,\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; pageToken,\n  Boolean omitProperties,\n  Boolean omitColumns)\n</code></pre> <ol> <li>Opens a new session using the system-wide SessionFactory and starts a new transaction</li> </ol> <p><code>listTables</code> requests the PagedListingHelper to listEntity.</p> <p><code>listTables</code>...FIXME</p> <p><code>listTables</code> is used when:</p> <ul> <li><code>TableService</code> is requested to list the tables</li> </ul>"},{"location":"persistent-storage/VolumeRepository/","title":"VolumeRepository","text":""},{"location":"server/","title":"Localhost Reference Server","text":"<p>Unity Catalog comes with Localhost Reference Server that can be launched on command line using <code>./bin/start-uc-server</code> utility.</p> <pre><code>./bin/start-uc-server [-p|--port port]\n</code></pre> <p><code>start-uc-server</code> runs UnityCatalogServer to handle REST API requests at a port (specified using <code>-p</code> or <code>--port</code> option or defaults to <code>8080</code>).</p>"},{"location":"server/AuthService/","title":"AuthService","text":"<p><code>AuthService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle <code>/api/1.0/unity-control/auth</code> endpoint and perform OAuth2 token exchange.</p> Method URL Handler Params POST <code>/tokens</code> grantToken <code>OAuthTokenExchangeRequest</code> <p>Note</p> <p><code>AuthService</code> is the only API service registered under <code>/api/1.0/</code> URI.</p>"},{"location":"server/AuthService/#demo","title":"Demo","text":"<p>Use <code>subject_token</code> as specified in <code>etc/conf/token.txt</code>.</p> <p>Use https://jwt.io/#encoded-jwt to work with JSON web tokens.</p> <pre><code>http --form http://localhost:8081/api/1.0/unity-control/auth/tokens \\\n    grant_type=urn:ietf:params:oauth:grant-type:token-exchange \\\n    requested_token_type=urn:ietf:params:oauth:token-type:access_token \\\n    subject_token_type=urn:ietf:params:oauth:token-type:id_token \\\n    subject_token=eyJraWQiOiJiOTk1YmMwYTUyN2ZmYmJmOWI0M2YxMDhhMWEwZDgyNWEwNWViNDA3MGIyODMxYTg4ZGZhZjM0ZDJlODc5NzMzIiwiYWxnIjoiUlM1MTIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhZG1pbiIsImlzcyI6ImludGVybmFsIiwiaWF0IjoxNzI1MTkxNzYzLCJqdGkiOiJmYThlNThiNS1lMzAyLTRlMmEtYWI4Zi0wZWNlNDI2MzA3OTMiLCJ0eXBlIjoiU0VSVklDRSJ9.RZAtSOe1YwXRzCKwgzmGxO6PQ28Ms7nBrKlbYGFKOXnZFlFsHu156ABjciINDhVZANg9oXQYsKBk9316tUs5hS5e4mKRHdBy-YXcN26nZIqrfhtNf6JAi8xCS4D6bgaOl1n_Nis1oDerl6IkqWSfz6Uj0-Z_zyGxt_Svkw199ClAvAG9rGkgVYV35-N8y4TTYy6IebA5r3S6LY6_NIVNg9vSjQd5oUQeDJ16-k4xcAlFZPYseNWtTKUdub427JGL0Z14q_dgX6gyAT6ibwOzfay3_97Dddi-bMm9kNH4Ahvvx167KRkPjTuazUaUc2sxlpVvLVGyCSYr3uUDjpVbSQ\n</code></pre> <pre><code>HTTP/1.1 200 OK\ncontent-length: 734\ncontent-type: application/json\ndate: Sun, 1 Sep 2024 20:03:35 GMT\nserver: Armeria/1.28.4\n\n{\n    \"access_token\": \"eyJraWQiOiJiOTk1YmMwYTUyN2ZmYmJmOWI0M2YxMDhhMWEwZDgyNWEwNWViNDA3MGIyODMxYTg4ZGZhZjM0ZDJlODc5NzMzIiwiYWxnIjoiUlM1MTIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhZG1pbiIsImlzcyI6ImludGVybmFsIiwiaWF0IjoxNzI1MjIxMDE1LCJqdGkiOiJlNzJlODFhYi0xNDhkLTQ1ZjMtOTc2OS01Mjk5ODFhZjZlYTQiLCJ0eXBlIjoiQUNDRVNTIn0.Sn_BUz7I19W8eP2-A5iyomw4RW21E6MwpeItzjr-4QszwLMBuBCb8Dro6ICV1rqeI61Rax3NGaSR3HVxeB34gYXtXj74Wac3FbPY_6zWYBvzzfaLthafYI9qIMaUJmrJ98uRB1CV6be2PwfU34I9JPr2DxkmAhgMdofyi_JuasOmsTrtk7g12A0-tCjx8bAB39xeN3t0dOT68d-jO34eUa35YSl9g1WksxPP58Kqk5tOqXFtpHJaLOa-L16QnkKaXUGIran2SVYw7oApgoox-1bDOYEm2qy_j5Gz7ZmBbRIHGI3csuzXxaVUgBeHK8oi3YAQii0foYjQvbi6fg9egA\",\n    \"issued_token_type\": \"urn:ietf:params:oauth:token-type:access_token\",\n    \"token_type\": \"Bearer\"\n}\n</code></pre> <pre><code>http --form http://localhost:8081/api/1.0/unity-control/auth/tokens \\\n    grant_type=urn:ietf:params:oauth:grant-type:token-exchange \\\n    requested_token_type=urn:ietf:params:oauth:token-type:access_token \\\n    subject_token_type=urn:ietf:params:oauth:token-type:id_token \\\n    subject_token=eyJraWQiOiJiOTk1YmMwYTUyN2ZmYmJmOWI0M2YxMDhhMWEwZDgyNWEwNWViNDA3MGIyODMxYTg4ZGZhZjM0ZDJlODc5NzMzIiwiYWxnIjoiUlM1MTIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhZG1pbiIsImlzcyI6ImludGVybmFsIiwiaWF0IjoxNzI1MTkxNzYzLCJqdGkiOiJmYThlNThiNS1lMzAyLTRlMmEtYWI4Zi0wZWNlNDI2MzA3OTMiLCJ0eXBlIjoiU0VSVklDRSJ9.RZAtSOe1YwXRzCKwgzmGxO6PQ28Ms7nBrKlbYGFKOXnZFlFsHu156ABjciINDhVZANg9oXQYsKBk9316tUs5hS5e4mKRHdBy-YXcN26nZIqrfhtNf6JAi8xCS4D6bgaOl1n_Nis1oDerl6IkqWSfz6Uj0-Z_zyGxt_Svkw199ClAvAG9rGkgVYV35-N8y4TTYy6IebA5r3S6LY6_NIVNg9vSjQd5oUQeDJ16-k4xcAlFZPYseNWtTKUdub427JGL0Z14q_dgX6gyAT6ibwOzfay3_97Dddi-bMm9kNH4Ahvvx167KRkPjTuazUaUc2sxlpVvLVGyCSYr3uUDjpVbSQ | jq .access_token\n</code></pre> <pre><code>\"eyJraWQiOiJiOTk1YmMwYTUyN2ZmYmJmOWI0M2YxMDhhMWEwZDgyNWEwNWViNDA3MGIyODMxYTg4ZGZhZjM0ZDJlODc5NzMzIiwiYWxnIjoiUlM1MTIiLCJ0eXAiOiJKV1QifQ.eyJzdWIiOiJhZG1pbiIsImlzcyI6ImludGVybmFsIiwiaWF0IjoxNzI1MjIyNjIzLCJqdGkiOiJjMGE0ZTRiNC1mMGJjLTQ4ZDAtOTA3Ny01MzgyNWEzMWJjYzQiLCJ0eXBlIjoiQUNDRVNTIn0.fPyFNB3wcQ6tAoR-mnWGpoWtVwuvcEuSk43ZsYvNwOuddedWBeqH8TivR13GsC876jEzyPG4x1PtN2uOFHiNtfTXTZbEHUTlYoWlMU-BCZysuggUCih5fkbV63KdQkluLB1CyP3A-L4Dg6hxjbj-3V2jMoRjD5d_42k9yv1vuOe8sh1DNbaYXqBpnRNCdtD4IxJ6yRzBDLL6XcRlyombnj40AV7U5pxePz7PVlpfRix-GEEtnsA-wFxu3Ng-1lHBS9LEc0vmYUBe_P3ztNSon63al_CTStZz53S3moT-D0lsuDioYsnD7VNPHU31PhZVZ-rS-VAsFdQpHbiSeG1Fow\"\n</code></pre>"},{"location":"server/AuthService/#creating-instance","title":"Creating Instance","text":"<p><code>AuthService</code> takes the following to be created:</p> <ul> <li> SecurityContext <p>Upon creation, <code>AuthService</code> creates the JwksOperations.</p> <p><code>AuthService</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> is requested to register API services</li> </ul>"},{"location":"server/AuthService/#grantToken","title":"Grant Token","text":"<pre><code>HttpResponse grantToken(\n  OAuthTokenExchangeRequest request)\n</code></pre> <p><code>grantToken</code> prints out the following DEBUG message to the logs:</p> <pre><code>Got token: [request]\n</code></pre> <p><code>grantToken</code> asserts the following or reports an <code>OAuthInvalidRequestException</code>:</p> <ol> <li>There must be <code>grant_type</code> specified as <code>urn:ietf:params:oauth:grant-type:token-exchange</code> grant type</li> <li>There must be <code>requested_token_type</code> specified as <code>urn:ietf:params:oauth:token-type:access_token</code> token type</li> <li>There must be <code>subject_token_type</code> specified</li> <li>There must be no <code>actor_token_type</code> specified (as not supported yet)</li> </ol> <p><code>grantToken</code> decodes the given <code>subject_token</code> JSON Web Token (JWT) (from the <code>OAuthTokenExchangeRequest</code>).</p> <p>No Verification of Token's Signature</p> <p><code>grantToken</code> performs no verification of the token's signature.</p> <p><code>grantToken</code> finds the issuer of the <code>subject_token</code> token, if specified (using <code>iss</code> claim).</p> <p><code>grantToken</code> finds the private claim (<code>keyId</code>) of the <code>subject_token</code> token, if specified (using <code>kid</code> header claim).</p> <p><code>grantToken</code> prints out the following DEBUG message to the logs:</p> <pre><code>Validating token for issuer: [issuer]\n</code></pre> <p><code>grantToken</code> requests the JwksOperations for the verifier for the issuer and private claim.</p> <p><code>grantToken</code> uses the <code>JWTVerifier</code> to verify the decoded <code>subject_token</code> Json Web Token.</p> <p><code>grantToken</code> prints out the following DEBUG message to the logs:</p> <pre><code>Validated. Creating access token.\n</code></pre> <p><code>grantToken</code> requests the SecurityContext to create an access token for the decoded and verified <code>subject_token</code> JSON Web Token.</p> <p>In the end, <code>grantToken</code> responds with the following:</p> Property Value <code>accessToken</code> The generated access token <code>issuedTokenType</code> <code>urn:ietf:params:oauth:token-type:access_token</code> <code>tokenType</code> <code>Bearer</code>"},{"location":"server/AwsCredentials/","title":"AwsCredentials","text":""},{"location":"server/CatalogService/","title":"CatalogService","text":"<p><code>CatalogService</code> is a Unity Catalog API service to handle HTTP requests at /api/2.1/unity-catalog/catalogs URL.</p> Method URL Handler Params GET listCatalogs POST createCatalog JSON-ified CreateCatalog GET <code>/{name}</code> getCatalog <ul><li>name</li></ul> PATCH <code>/{name}</code> updateCatalog <ul><li>name</li></ul> DELETE <code>/{name}</code> deleteCatalog <ul><li>name</li></ul> <p><code>CatalogService</code> is also used to create IcebergRestCatalogService.</p>"},{"location":"server/CatalogService/#listCatalogs","title":"listCatalogs","text":"<pre><code>HttpResponse listCatalogs()\n</code></pre> <p><code>listCatalogs</code>...FIXME</p> <p><code>listCatalogs</code> is used when:</p> <ul> <li><code>CatalogService</code> is requested to handle HTTP <code>GET</code> requests on catalogs URL</li> <li>FIXME</li> </ul>"},{"location":"server/CatalogService/#demo","title":"Demo","text":"<pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/catalogs\nHTTP/1.1 200 OK\ncontent-length: 184\ncontent-type: application/json\ndate: Thu, 4 Jul 2024 17:56:19 GMT\nserver: Armeria/1.28.4\n\n{\n    \"catalogs\": [\n        {\n            \"comment\": \"Main catalog\",\n            \"created_at\": 1720090500565,\n            \"id\": \"17562adb-e6f8-463e-b82a-22264b067d6b\",\n            \"name\": \"unity\",\n            \"properties\": {},\n            \"updated_at\": null\n        }\n    ],\n    \"next_page_token\": null\n}\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/catalogs | jq '.catalogs[].name'\n\"unity\"\n</code></pre>"},{"location":"server/CreateCatalog/","title":"CreateCatalog","text":""},{"location":"server/CreateTable/","title":"CreateTable","text":"<p><code>CreateTable</code> represents a request to create a new table instance (coming from TableCli).</p> <p><code>CreateTable</code> is <code>POST</code>ed to <code>/tables</code> API endpoint of the TableService (to persist using TableRepository).</p> Property Required Description <code>catalog_name</code> \u2705 Name of parent catalog <code>columns</code> \u2705 An array of <code>ColumnInfo</code>s of the table's columns <code>comment</code> User-provided free-form text description <code>data_source_format</code> \u2705 Data source format:<ul><li><code>DELTA</code><li><code>CSV</code><li><code>JSON</code><li><code>AVRO</code><li><code>PARQUET</code><li><code>ORC</code><li><code>TEXT</code> <code>name</code> \u2705 Name of table, relative to parent schema. <code>properties</code> \u2705 Name of table, relative to parent schema. <code>schema_name</code> \u2705 Name of parent schema relative to its parent catalog <code>storage_location</code> Storage root URL\u26d4\ufe0f Required for <code>EXTERNAL</code> tables <code>table_type</code> \u2705 One of the following:<ul><li><code>MANAGED</code> (not supported by the Localhost Reference Server)<li><code>EXTERNAL</code> OpenAPI Generator <p><code>CreateTable</code> was auto-generated using OpenAPI Generator based on Unity Catalog's OpenAPI specification.</p> <p>sbt-openapi-generator 7.5.0 is used in the <code>client</code> sbt module of the <code>unitycatalog</code> project.</p>"},{"location":"server/FunctionService/","title":"FunctionService","text":"<p><code>FunctionService</code> is a Unity Catalog API service to handle HTTP requests at /api/2.1/unity-catalog/functions URL.</p> Method URL Handler Params POST createFunction DELETE <code>/{name}</code> deleteFunction <code>name</code><code>force</code> GET <code>/{name}</code> getFunction <code>name</code> GET listFunctions <code>catalog_name</code><code>schema_name</code><code>max_results</code><code>page_token</code> (not used)"},{"location":"server/FunctionService/#listFunctions","title":"Listing Functions","text":"<pre><code>HttpResponse listFunctions(\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; pageToken)\n</code></pre> <p><code>listFunctions</code> requests the FunctionRepository to list functions.</p> <pre><code>$ ./bin/uc function list --catalog unity --schema default\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    NAME    \u2502CATALOG_\u2502SCHEMA_N\u2502INPUT_PA\u2502DATA_TYP\u2502FULL_DAT\u2502RETURN_P\u2502ROUTINE_\u2502ROUTINE_\u2502ROUTINE_\u2502PARAMETE\u2502IS_DETER\u2502SQL_DATA\u2502IS_NULL_\u2502SECURITY\u2502SPECIFIC\u2502COMMENT \u2502PROPERTI\u2502FULL_NAM\u2502CREATED_\u2502UPDATED_\u2502FUNCTION\u2502EXTERNAL\u2502\n\u2502            \u2502  NAME  \u2502  AME   \u2502  RAMS  \u2502   E    \u2502 A_TYPE \u2502 ARAMS  \u2502  BODY  \u2502DEFINITI\u2502DEPENDEN\u2502R_STYLE \u2502MINISTIC\u2502_ACCESS \u2502  CALL  \u2502 _TYPE  \u2502 _NAME  \u2502        \u2502   ES   \u2502   E    \u2502   AT   \u2502   AT   \u2502  _ID   \u2502_LANGUAG\u2502\n\u2502            \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502   ON   \u2502  CIES  \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502   E    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502sum         \u2502unity   \u2502default \u2502{\"par...\u2502INT     \u2502INT     \u2502null    \u2502EXTERNAL\u2502t = x...\u2502null    \u2502S       \u2502true    \u2502NO_SQL  \u2502false   \u2502DEFINER \u2502sum     \u2502Add t...\u2502null    \u2502unity...\u250217200...\u2502null    \u25026b587...\u2502python  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502lowercase   \u2502unity   \u2502default \u2502{\"par...\u2502STRING  \u2502STRING  \u2502null    \u2502EXTERNAL\u2502g = s...\u2502null    \u2502S       \u2502true    \u2502NO_SQL  \u2502false   \u2502DEFINER \u2502lower...\u2502Conve...\u2502null    \u2502unity...\u250217200...\u2502null    \u2502a1722...\u2502python  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"server/FunctionService/#getFunction","title":"Looking Up Function","text":"<pre><code>HttpResponse getFunction(\n  String name)\n</code></pre> <p><code>listFunctions</code> requests the FunctionRepository for the function by the given <code>name</code>.</p> <pre><code>$ ./bin/uc function get --full_name unity.default.sum\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                                               VALUE                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                \u2502sum                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME        \u2502unity                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME         \u2502default                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502INPUT_PARAMS        \u2502{\"parameters\":[{\"name\":\"x\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"x\\\",\\\"type\\\":\\\"integer\\\",\\\"nul\u2502\n\u2502                    \u2502lable\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":null,\"type_scale\":null,\"type_inter\u2502\n\u2502                    \u2502val_type\":null,\"position\":0,\"parameter_mode\":null,\"parameter_type\":null,\"parameter_default\":null,\"co\u2502\n\u2502                    \u2502mment\":null},{\"name\":\"y\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"y\\\",\\\"type\\\":\\\"integer\\\",\\\"nulla\u2502\n\u2502                    \u2502ble\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":null,\"type_scale\":null,\"type_interva\u2502\n\u2502                    \u2502l_type\":null,\"position\":1,\"parameter_mode\":null,\"parameter_type\":null,\"parameter_default\":null,\"comm\u2502\n\u2502                    \u2502ent\":null},{\"name\":\"z\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"z\\\",\\\"type\\\":\\\"integer\\\",\\\"nullabl\u2502\n\u2502                    \u2502e\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":null,\"type_scale\":null,\"type_interval_\u2502\n\u2502                    \u2502type\":null,\"position\":2,\"parameter_mode\":null,\"parameter_type\":null,\"parameter_default\":null,\"commen\u2502\n\u2502                    \u2502t\":null}]}                                                                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502DATA_TYPE           \u2502INT                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FULL_DATA_TYPE      \u2502INT                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502RETURN_PARAMS       \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ROUTINE_BODY        \u2502EXTERNAL                                                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ROUTINE_DEFINITION  \u2502t = x + y + z\\nreturn t                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ROUTINE_DEPENDENCIES\u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PARAMETER_STYLE     \u2502S                                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502IS_DETERMINISTIC    \u2502true                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SQL_DATA_ACCESS     \u2502NO_SQL                                                                                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502IS_NULL_CALL        \u2502false                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SECURITY_TYPE       \u2502DEFINER                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SPECIFIC_NAME       \u2502sum                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT             \u2502Add two numbers                                                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES          \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FULL_NAME           \u2502unity.default.sum                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT          \u25021720082975600                                                                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT          \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FUNCTION_ID         \u25026b587147-128f-4f05-8a4f-173a18831bdf                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502EXTERNAL_LANGUAGE   \u2502python                                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"server/ModelService/","title":"ModelService","text":"<p><code>ModelService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/models</code> URL.</p> Method URL Handler Params GET <code>/</code> listRegisteredModels <ul><li>catalog_name<li>schema_name<li>max_results<li>page_token POST <code>/</code> createRegisteredModel <code>CreateRegisteredModel</code> DELETE <code>/{full_name}</code> deleteRegisteredModel <ul><li>fullName<li>force GET <code>/{full_name}</code> getRegisteredModel <ul><li>fullName PATCH <code>/{full_name}</code> updateRegisteredModel <code>UpdateRegisteredModel</code> GET <code>/{full_name}/versions</code> listModelVersions <ul><li>full_name<li>max_results<li>page_token DELETE <code>/{full_name}/versions/{version}</code> deleteModelVersion <ul><li>fullName<li>version GET <code>/{full_name}/versions/{version}</code> getModelVersion <ul><li>full_name<li>version PATCH <code>/{full_name}/versions/{version}</code> updateModelVersion <code>UpdateModelVersion</code> PATCH <code>/{full_name}/versions/{version}/finalize</code> finalizeModelVersion <code>FinalizeModelVersion</code> POST <code>/versions</code> createModelVersion <code>CreateModelVersion</code>"},{"location":"server/ModelService/#MODEL_REPOSITORY","title":"ModelRepository","text":"<p><code>ModelService</code> gets the system-wide ModelRepository when created.</p>"},{"location":"server/ModelService/#createRegisteredModel","title":"Register Model","text":"<pre><code>HttpResponse createRegisteredModel(\n  CreateRegisteredModel createRegisteredModel)\n</code></pre> <p><code>createRegisteredModel</code> requests the ModelRepository instance to register a model.</p> <p>Example</p> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/models | jq '.registered_models'\n[]\n</code></pre>"},{"location":"server/SchemaService/","title":"SchemaService","text":""},{"location":"server/TableService/","title":"TableService","text":"<p><code>TableService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/tables</code> URL.</p> Method URL Handler Params GET <code>/</code> listTables <ul><li>catalog_name<li>schema_name<li>max_results<li>page_token<li>omit_properties<li>omit_columns POST <code>/</code> createTable JSON-ified CreateTable GET <code>/{full_name}</code> getTable <ul><li>fullName DELETE <code>/{full_name}</code> deleteTable <ul><li>fullName <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/tables catalog_name==unity schema_name==default | jq '.tables[].name'\n\"numbers\"\n\"marksheet_uniform\"\n\"marksheet\"\n</code></pre>"},{"location":"server/TableService/#createTable","title":"Create Table Metadata","text":"<pre><code>HttpResponse createTable(\n  CreateTable createTable)\n</code></pre> <p><code>createTable</code> requests the system-wide TableRepository instance to persist the given table metadata.</p>"},{"location":"server/TableService/#listTables","title":"List Tables","text":"<pre><code>HttpResponse listTables(\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; pageToken,\n  Optional&lt;Boolean&gt; omitProperties,\n  Optional&lt;Boolean&gt; omitColumns)\n</code></pre> <p><code>listTables</code> requests the system-wide TableRepository instance to list the tables.</p>"},{"location":"server/TemporaryCredentialUtils/","title":"TemporaryCredentialUtils","text":""},{"location":"server/TemporaryCredentialUtils/#findS3BucketConfig","title":"Looking Up AwsCredentials for S3 Storage Location","text":"<pre><code>AwsCredentials findS3BucketConfig(\n  String storageLocation)\n</code></pre> <p><code>findS3BucketConfig</code> requests the system-wide PropertiesUtil instance for getS3BucketConfig.</p> <p><code>findS3BucketConfig</code> creates a AwsCredentials.</p> Property Value accessKeyId accessKey secretAccessKey secretKey sessionToken sessionToken <p><code>findS3BucketConfig</code> is used when:</p> <ul> <li><code>TemporaryTableCredentialsService</code> is requested to generateTemporaryTableCredential</li> <li><code>TemporaryVolumeCredentialsService</code> is requested to generateTemporaryTableCredential</li> </ul>"},{"location":"server/TemporaryTableCredentialsService/","title":"TemporaryTableCredentialsService","text":"<p><code>TemporaryTableCredentialsService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/temporary-table-credentials</code> URL.</p> Method URL Handler Params POST generateTemporaryTableCredential GenerateTemporaryTableCredential"},{"location":"server/TemporaryTableCredentialsService/#TABLE_REPOSITORY","title":"TableRepository","text":"<p><code>TemporaryTableCredentialsService</code> gets at the system-wide TableRepository instance when created.</p>"},{"location":"server/TemporaryTableCredentialsService/#generateTemporaryTableCredential","title":"Looking Up Table Credentials","text":"<pre><code>HttpResponse generateTemporaryTableCredential(\n  GenerateTemporaryTableCredential generateTemporaryTableCredential)\n</code></pre> <p><code>generateTemporaryTableCredential</code> looks up the table metadata (by the <code>tableId</code> of the given <code>GenerateTemporaryTableCredential</code>) in the TableRepository.</p> <p>Unless the storage location is on S3 (starts with <code>s3://</code> prefix), <code>generateTemporaryTableCredential</code> assumes local file system and returns empty credentials.</p> <p>For a S3 storage location, <code>generateTemporaryTableCredential</code> finds the S3 storage location credentials.</p>"},{"location":"server/TemporaryTableCredentialsService/#demo","title":"Demo","text":""},{"location":"server/TemporaryTableCredentialsService/#local-file-system","title":"Local File System","text":"<pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/temporary-table-credentials \\\n    table_id=b5d6db68-5eca-485c-be5f-5f53d4f27f60 \\\n    operation=READ\nHTTP/1.1 200 OK\ncontent-length: 52\ncontent-type: application/json\ndate: Tue, 9 Jul 2024 11:54:58 GMT\nserver: Armeria/1.28.4\n\n{\n    \"aws_temp_credentials\": null,\n    \"expiration_time\": null\n}\n</code></pre>"},{"location":"server/TemporaryTableCredentialsService/#s3-storage-location","title":"S3 Storage Location","text":"<p>Register a table on S3.</p> <pre><code>$ ./bin/uc table create \\\n    --full_name unity.default.s3_creds_demo \\\n    --columns \"id INT, name STRING\" \\\n    --storage_location \"s3://japila.pl/my_demo_bucket/s3_creds_demo\"\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                                               VALUE                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                \u2502s3_creds_demo                                                                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME        \u2502unity                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME         \u2502default                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_TYPE          \u2502EXTERNAL                                                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502DATA_SOURCE_FORMAT  \u2502DELTA                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COLUMNS             \u2502{\"name\":\"id\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\u2502\n\u2502                    \u2502\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":0,\"type_scale\":0,\"type_interval_type\":null,\"pos\u2502\n\u2502                    \u2502ition\":0,\"comment\":null,\"nullable\":true,\"partition_index\":null}                                     \u2502\n\u2502                    \u2502{\"name\":\"name\",\"type_text\":\"string\",\"type_json\":\"{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\"\u2502\n\u2502                    \u2502:true,\\\"metadata\\\":{}}\",\"type_name\":\"STRING\",\"type_precision\":0,\"type_scale\":0,\"type_interval_type\":\u2502\n\u2502                    \u2502null,\"position\":1,\"comment\":null,\"nullable\":true,\"partition_index\":null}                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502STORAGE_LOCATION    \u2502s3://japila.pl/my_demo_bucket/s3_creds_demo                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT             \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES          \u2502{}                                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT          \u25021720539043045                                                                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT          \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_ID            \u2502020270b2-621e-4157-a73d-6a63c3b86bdd                                                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/temporary-table-credentials \\\n    table_id=020270b2-621e-4157-a73d-6a63c3b86bdd   \\\n    operation=READ\n\nHTTP/1.1 400 Bad Request\ncontent-length: 192\ncontent-type: application/json\ndate: Tue, 9 Jul 2024 14:54:48 GMT\nserver: Armeria/1.28.4\n\n{\n    \"details\": [\n        {\n            \"@type\": \"google.rpc.ErrorInfo\",\n            \"metadata\": {},\n            \"reason\": \"FAILED_PRECONDITION\"\n        }\n    ],\n    \"error_code\": \"FAILED_PRECONDITION\",\n    \"message\": \"S3 bucket configuration not found.\",\n    \"stack_trace\": null\n}\n</code></pre> <p>Add a S3 bucket configuration to <code>etc/conf/server.properties</code> for the table location and bounce the UC server.</p> <pre><code>$ cat etc/conf/server.properties\nserver.env=dev\n## temp credential config for s3 (Multiple s3 config can be added by incrementing the index)\ns3.bucketPath.0=s3://japila.pl\ns3.accessKey.0=FIXME_accessKey\ns3.secretKey.0=FIXME_secretKey\ns3.sessionToken.0=FIXME_sessionToken\n</code></pre> <pre><code>./bin/start-uc-server\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/temporary-table-credentials \\\n    table_id=020270b2-621e-4157-a73d-6a63c3b86bdd   \\\n    operation=READ\nHTTP/1.1 200 OK\ncontent-length: 158\ncontent-type: application/json\ndate: Tue, 9 Jul 2024 15:32:04 GMT\nserver: Armeria/1.28.4\n\n{\n    \"aws_temp_credentials\": {\n        \"access_key_id\": \"FIXME_accessKey\",\n        \"secret_access_key\": \"FIXME_secretKey\",\n        \"session_token\": \"FIXME_sessionToken\"\n    },\n    \"expiration_time\": null\n}\n</code></pre>"},{"location":"server/TemporaryVolumeCredentialsService/","title":"TemporaryVolumeCredentialsService","text":""},{"location":"server/UnityCatalogServer/","title":"UnityCatalogServer \u2014 Unity Catalog's Localhost Reference Server","text":"<p><code>UnityCatalogServer</code> is Unity Catalog's Localhost Reference Server.</p> <p><code>UnityCatalogServer</code> can be started on command line to handle REST API requests at the port.</p> <pre><code>./bin/start-uc-server [-p|--port port]\n</code></pre> <p><code>UnityCatalogServer</code> starts Armeria documentation service at http://localhost:8081/docs and the other Unity Catalog API services.</p>"},{"location":"server/UnityCatalogServer/#port","title":"Port","text":"<p><code>UnityCatalogServer</code> takes a port number when created.</p> <p>Unless specified on command-line using <code>-p,--port &lt;arg&gt;</code> option, <code>UnityCatalogServer</code> defaults to <code>8080</code> or the closest one available.</p>"},{"location":"server/UnityCatalogServer/#creating-instance","title":"Creating Instance","text":"<p><code>UnityCatalogServer</code> takes the following to be created:</p> <ul> <li>Port</li> </ul> <p>While being created, <code>UnityCatalogServer</code> builds the Server:</p> <ol> <li>Handle HTTP requests at the given port</li> <li>Bind the Armeria documentation service (Armeria) under <code>/docs</code> URL</li> <li>Register the API services</li> </ol> <p><code>UnityCatalogServer</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> command-line utility is started</li> </ul>"},{"location":"server/UnityCatalogServer/#server","title":"Server","text":"<p><code>UnityCatalogServer</code> creates a <code>Server</code> (Armeria) when created.</p>"},{"location":"server/UnityCatalogServer/#securityContext","title":"SecurityContext","text":"<p><code>UnityCatalogServer</code> creates a SecurityContext when created as follows:</p> Property Value Configuration Directory <code>etc/conf</code> securityConfiguration SecurityConfiguration Service Name <code>server</code> Local Issuer <code>internal</code> <p>This <code>SecurityContext</code> is used to create an AuthService.</p>"},{"location":"server/UnityCatalogServer/#addServices","title":"Register API Services","text":"<pre><code>void addServices(\n  ServerBuilder sb)\n</code></pre> <p><code>addServices</code> creates and registers Unity Catalog API services at the <code>/api/2.1/unity-catalog/</code> base path.</p> URL Service <code>/</code> Returns <code>Hello, Unity Catalog!</code> message <code>/api/1.0/unity-control/auth</code> AuthService <code>/api/2.1/unity-catalog/catalogs</code> CatalogService <code>/api/2.1/unity-catalog/functions</code> FunctionService <code>/api/2.1/unity-catalog/iceberg</code> IcebergRestCatalogService <code>/api/2.1/unity-catalog/models</code> ModelService <code>/api/2.1/unity-catalog/schemas</code> SchemaService <code>/api/2.1/unity-catalog/tables</code> TableService <code>/api/2.1/unity-catalog/temporary-table-credentials</code> TemporaryTableCredentialsService <code>/api/2.1/unity-catalog/temporary-volume-credentials</code> TemporaryVolumeCredentialsService <code>/api/2.1/unity-catalog/volumes</code> VolumeService"},{"location":"server/UnityCatalogServer/#main","title":"Launch UnityCatalogServer","text":"<pre><code>void main(\n  String[] args)\n</code></pre> <p><code>main</code> starts probing for the available port from <code>8081</code> or the first argument specified on command line.</p> <p><code>main</code> creates a UnityCatalogServer.</p> <p><code>main</code> requests the <code>UnityCatalogServer</code> to print out the welcome ASCII art message.</p> <p><code>main</code> requests the <code>UnityCatalogServer</code> to start.</p> <p><code>main</code>...FIXME</p>"},{"location":"server/VolumeService/","title":"VolumeService","text":""},{"location":"server-authorization/","title":"Server Authorization","text":"<p>Server Authorization can be enabled in Unity Catalog Server using <code>server.authorization</code> property in <code>etc/conf/server.properties</code> configuration file.</p> <p>To enable the server authorization <code>server.authorization</code> property should be <code>enable</code> (case-insensitive).</p> <p>With server authorization enabled, Unity Catalog Server registers AuthDecorator to intercept all requests to <code>/api/2.1/unity-catalog/</code>-prefixed URLs.</p>"},{"location":"server-authorization/#bearer-authentication","title":"Bearer Authentication","text":"<p>From OpenAPI Guide (extra spacing mine):</p> <p>Bearer Authentication (token authentication) is an HTTP authentication scheme that involves security tokens called bearer tokens.</p> <p>The name \"Bearer authentication\" can be understood as \"give access to the bearer of this token.\"</p> <p>The bearer token is a cryptic string, usually generated by the server in response to a login request.</p> <p>The client must send this token in the Authorization header when making requests to protected resources:</p> <pre><code>Authorization: Bearer &lt;token&gt;\n</code></pre> <p>The Bearer authentication scheme was originally created as part of OAuth 2.0 in RFC 6750.</p> <p>Bearer authentication should only be used over HTTPS (SSL).</p>"},{"location":"server-authorization/#demo","title":"Demo","text":""},{"location":"server-authorization/#enable-server-authorization","title":"Enable Server Authorization","text":"<p>Add the following to <code>etc/conf/server.properties</code>:</p> <pre><code>server.authorization=enable\n</code></pre> <p>Tip</p> <p>Enable <code>ALL</code> logging level for io.unitycatalog.server.service.AuthDecorator logger.</p> <p>Start Unity Catalog server.</p>"},{"location":"server-authorization/#unauthorized-access","title":"Unauthorized Access","text":"<pre><code>\u276f ./bin/uc catalog list\nException in thread \"main\" java.lang.RuntimeException: io.unitycatalog.client.ApiException: listCatalogs call failed with: 401 - {\"error_code\":\"UNAUTHENTICATED\",\"details\":[{\"reason\":\"UNAUTHENTICATED\",\"metadata\":{},\"@type\":\"google.rpc.ErrorInfo\"}],\"stack_trace\":null,\"message\":\"No authorization found.\"}\n    at io.unitycatalog.cli.UnityCatalogCli.main(UnityCatalogCli.java:127)\nCaused by: io.unitycatalog.client.ApiException: listCatalogs call failed with: 401 - {\"error_code\":\"UNAUTHENTICATED\",\"details\":[{\"reason\":\"UNAUTHENTICATED\",\"metadata\":{},\"@type\":\"google.rpc.ErrorInfo\"}],\"stack_trace\":null,\"message\":\"No authorization found.\"}\n    at io.unitycatalog.client.api.CatalogsApi.getApiException(CatalogsApi.java:77)\n    at io.unitycatalog.client.api.CatalogsApi.listCatalogsWithHttpInfo(CatalogsApi.java:356)\n    at io.unitycatalog.client.api.CatalogsApi.listCatalogs(CatalogsApi.java:333)\n    at io.unitycatalog.cli.CatalogCli.listCatalogs(CatalogCli.java:74)\n    at io.unitycatalog.cli.CatalogCli.handle(CatalogCli.java:39)\n    at io.unitycatalog.cli.UnityCatalogCli.main(UnityCatalogCli.java:92)\n</code></pre>"},{"location":"server-authorization/#authorized-access","title":"Authorized Access","text":"<p>Use <code>subject_token</code> as specified in <code>etc/conf/token.txt</code>.</p> <pre><code>./bin/uc --auth_token $(cat etc/conf/token.txt) catalog list\n</code></pre> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502NAME \u2502  COMMENT   \u2502PROPERTIES\u2502 CREATED_AT  \u2502UPDATED_AT\u2502                 ID                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502unity\u2502Main catalog\u2502{}        \u25021721234405334\u2502null      \u2502f029b870-9468-4f10-badc-630b41e5690d\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>You should see the following DEBUG messages in the server logs:</p> <pre><code>DEBUG io.unitycatalog.server.service.AuthDecorator:44 - AuthDecorator checking /api/2.1/unity-catalog/catalogs?max_results=100\nDEBUG io.unitycatalog.server.service.AuthDecorator:44 - AuthDecorator checking /api/2.1/unity-catalog/catalogs?max_results=100\nDEBUG io.unitycatalog.server.service.AuthDecorator:69 - Validating access-token for issuer: internal\nDEBUG io.unitycatalog.server.service.AuthDecorator:78 - Access allowed for subject: \"admin\"\n</code></pre>"},{"location":"server-authorization/AuthDecorator/","title":"AuthDecorator","text":"<p><code>AuthDecorator</code> is a <code>DecoratingHttpServiceFunction</code> (Armeria) for a JWT access-token authorization in the Unity Catalog Server.</p>"},{"location":"server-authorization/AuthDecorator/#serve","title":"Serve Incoming HttpRequest","text":"DecoratingHttpServiceFunction <pre><code>HttpResponse serve(\n  HttpService delegate,\n  ServiceRequestContext ctx,\n  HttpRequest req)\n</code></pre> <p><code>serve</code> is part of the <code>DecoratingHttpServiceFunction</code> (Armeria) abstraction.</p> <p><code>serve</code> prints out the following DEBUG message to the logs (with the path of the given <code>HttpRequest</code>):</p> <pre><code>AuthDecorator checking [path]\n</code></pre> <p><code>serve</code> finds <code>Authorization</code> header in the given <code>HttpRequest</code>.</p> AuthorizationException <p><code>serve</code> reports an <code>AuthorizationException</code> unless there is an <code>Authorization</code> header in the <code>HttpRequest</code>:</p> <pre><code>No authorization found.\n</code></pre> <p><code>serve</code> makes sure that the <code>Authorization</code> header is <code>Bearer</code> with a JSON Web Token.</p> AuthorizationException <p><code>serve</code> reports an <code>AuthorizationException</code> unless there is a <code>Bearer</code> token in the <code>HttpRequest</code>:</p> <pre><code>No Bearer found.\n</code></pre> <p><code>serve</code> gets the issuer (the <code>iss</code> claim) and the keyId (the <code>kid</code> header claim) in the token.</p> <p><code>serve</code> prints out the following DEBUG message to the logs:</p> <pre><code>Validating access-token for issuer: [issuer]\n</code></pre> AuthorizationException <p><code>serve</code> reports an <code>AuthorizationException</code> unless the access token is for <code>internal</code> issuer:</p> <pre><code>Invalid access token.\n</code></pre> <p><code>serve</code> verifies the access token with the verifier for the issuer and the keyId.</p> <p><code>serve</code> prints out the following DEBUG message to the logs (with the <code>sub</code> claim of the access token):</p> <pre><code>Access allowed for subject: [sub]\n</code></pre> <p>In the end, <code>serve</code> sets <code>DECODED_JWT_ATTR</code> attribute in the <code>ServiceRequestContext</code>.</p> <p>FIXME Why is <code>DECODED_JWT_ATTR</code> attribute required and where is it used?</p>"},{"location":"server-authorization/AuthDecorator/#logging","title":"Logging","text":"<p>Enable <code>ALL</code> logging level for <code>io.unitycatalog.server.service.AuthDecorator</code> logger to see what happens inside.</p> <p>Add the following line to <code>etc/conf/server.log4j2.properties</code>:</p> <pre><code>logger.AuthDecorator.name = io.unitycatalog.server.service.AuthDecorator\nlogger.AuthDecorator.level = all\n</code></pre> <p>Refer to Logging.</p>"},{"location":"server-authorization/JwksOperations/","title":"JwksOperations","text":"<p><code>JwksOperations</code>...FIXME</p>"},{"location":"server-authorization/SecurityConfiguration/","title":"SecurityConfiguration","text":"<p><code>SecurityConfiguration</code>...FIXME</p>"},{"location":"server-authorization/SecurityContext/","title":"SecurityContext","text":"<p><code>SecurityContext</code> is created alongside UnityCatalogServer.</p>"},{"location":"server-authorization/SecurityContext/#creating-instance","title":"Creating Instance","text":"<p><code>SecurityContext</code> takes the following to be created:</p> <ul> <li> Configuration directory <li> SecurityConfiguration <li> Service Name <li> Local Issuer <p><code>SecurityContext</code> is created alongside UnityCatalogServer.</p>"},{"location":"server-authorization/SecurityContext/#configurationFolder","title":"Configuration Directory","text":"<p><code>SecurityContext</code> is given the path of a configuration directory with the following files:</p> <ul> <li>certs.json</li> <li>token.txt</li> </ul> <p>UnityCatalogServer</p> <p>UnityCatalogServer uses <code>etc/conf</code> as the configuration directory.</p>"},{"location":"spark-connector/","title":"Spark Connector","text":"<p>Unity Catalog supports Apache Spark and Delta Lake using Spark Connector (UCSingleCatalog and UCProxy).</p> <p>The following features are supported:</p> <ul> <li>Read/write (partitioned) external parquet tables</li> <li>Read/write (partitioned) external delta tables</li> <li>Support the path table syntax of delta tables</li> <li>Temporary credentials for secured access to local and S3 tables (parquet tables only, no delta tables yet)</li> <li>Namespace</li> </ul>"},{"location":"spark-connector/#spark-and-java-compatibility","title":"Spark and Java Compatibility","text":"<p>Apache Spark 3.5.2 and Java 11 are used to build Spark Connector module for better Apache Spark interoperability (see this commit).</p>"},{"location":"spark-connector/#namespace-support","title":"Namespace Support","text":"<p>As of this commit, Unity Catalog supports various namespace-related commands (e.g., <code>SHOW NAMESPACES</code>, <code>DESC NAMESPACE</code>).</p> <p>See this demo to learn more.</p>"},{"location":"spark-connector/#demo","title":"Demo","text":"<p>Demo: Spark Connector</p>"},{"location":"spark-connector/GcsVendedTokenProvider/","title":"GcsVendedTokenProvider","text":"<p><code>GcsVendedTokenProvider</code> is an <code>AccessTokenProvider</code> to provide access tokens for UCSingleCatalog to load tables from Google Cloud Storage.</p> <p><code>GcsVendedTokenProvider</code> can be configured in a Spark application using the following configuration:</p> <pre><code>spark.hadoop.fs.AbstractFileSystem.gs.impl     com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS\nspark.hadoop.fs.gs.auth.access.token.provider  io.unitycatalog.connectors.spark.GcsVendedTokenProvider\nspark.hadoop.fs.gs.auth.type                   ACCESS_TOKEN_PROVIDER\n</code></pre>"},{"location":"spark-connector/GcsVendedTokenProvider/#getAccessToken","title":"getAccessToken","text":"AccessTokenProvider <pre><code>AccessToken getAccessToken()\n</code></pre> <p><code>getAccessToken</code> is part of the <code>AccessTokenProvider</code> abstraction.</p> <p><code>getAccessToken</code> creates a new <code>AccessToken</code> based on the following Hadoop Configuration properties:</p> Property Hadoop Property <code>token</code> <code>fs.gs.auth.access.token.credential</code> <code>expirationTime</code> <code>fs.gs.auth.access.token.expiration</code>"},{"location":"spark-connector/UCProxy/","title":"UCProxy","text":"<p><code>UCProxy</code> is a<code>TableCatalog</code> (Spark SQL).</p>"},{"location":"spark-connector/UCProxy/#tablesApi","title":"TablesApi","text":"<p><code>UCProxy</code> creates a <code>TablesApi</code> client when requested to initialize.</p>"},{"location":"spark-connector/UCProxy/#temporaryTableCredentialsApi","title":"TemporaryTableCredentialsApi","text":"<p><code>UCProxy</code> creates a <code>TemporaryTableCredentialsApi</code> client when requested to initialize.</p>"},{"location":"spark-connector/UCProxy/#initialize","title":"Initialize Table Catalog","text":"CatalogPlugin <pre><code>initialize(\n  name: String,\n  options: CaseInsensitiveStringMap): Unit\n</code></pre> <p><code>initialize</code> is part of the <code>CatalogPlugin</code> (Spark SQL) abstraction.</p> <p><code>initialize</code> asserts that <code>uri</code> option is specified.</p> <p><code>initialize</code> creates an ApiClient based on the <code>uri</code> option (the host, the port and the scheme).</p> <p><code>initialize</code> tells the <code>ApiClient</code> to use <code>Authorization</code> header for every request based on <code>token</code> option, if defined.</p> <p>In the end, <code>initialize</code> creates this TablesApi and this TemporaryTableCredentialsApi.</p>"},{"location":"spark-connector/UCProxy/#loadTable","title":"Load Table","text":"TableCatalog <pre><code>loadTable(\n  ident: Identifier): Table\n</code></pre> <p><code>loadTable</code> is part of the <code>TableCatalog</code> (Spark SQL) abstraction.</p> <p><code>loadTable</code> requests the TablesApi to load the metadata of the table by the fully-qualified table name (with the name of this catalog):</p> <pre><code>[catalog_name].[two-part ident (with the schema and table names)]\n</code></pre> <p>If the table metadata could be found, <code>loadTable</code> requests the TemporaryTableCredentialsApi for the S3 temporary table credentials (sending a <code>POST</code> request to <code>/temporary-table-credentials</code> endpoint).</p> <p>Note</p> <p>It is assumed that the temporary table credentials are for <code>READ_WRITE</code> operation.</p> <p>For a table stored in a S3 bucket, <code>loadTable</code> sets the following Hadoop properties:</p> Hadoop Property Value <code>fs.s3a.access.key</code> <code>accessKeyId</code> of the AwsCredentials <code>fs.s3a.secret.key</code> <code>secretAccessKey</code> of the AwsCredentials <code>fs.s3a.session.token</code> <code>sessionToken</code> of the AwsCredentials <code>fs.s3a.impl</code> <code>org.apache.hadoop.fs.s3a.S3AFileSystem</code> <code>fs.s3a.path.style.access</code> <code>true</code> <p><code>loadTable</code> creates a <code>CatalogTable</code> (Spark SQL) with the following:</p> <ul> <li><code>MANAGED</code> and <code>EXTERNAL</code> tables are supported</li> <li><code>locationUri</code> based on Unity Catalog's <code>storageLocation</code></li> </ul> <p>In the end, <code>loadTable</code> creates a <code>V1Table</code> (Spark SQL) for the <code>CatalogTable</code>.</p>"},{"location":"spark-connector/UCProxy/#listNamespaces","title":"List Namespaces","text":"SupportsNamespaces <pre><code>listNamespaces(): Array[Array[String]]\n</code></pre> <p><code>listNamespaces</code> is part of the <code>SupportsNamespaces</code> (Spark SQL) abstraction.</p> <p><code>listNamespaces</code>...FIXME</p>"},{"location":"spark-connector/UCProxy/#listTables","title":"List Tables","text":"TableCatalog <pre><code>listTables(\n  namespace: Array[String]): Array[Identifier]\n</code></pre> <p><code>listTables</code> is part of the <code>TableCatalog</code> (Spark SQL) abstraction.</p> <p><code>listTables</code>...FIXME</p>"},{"location":"spark-connector/UCSingleCatalog/","title":"UCSingleCatalog","text":"<p><code>UCSingleCatalog</code> is a <code>TableCatalog</code> (Spark SQL).</p> <p><code>UCSingleCatalog</code> supports loading tables from the following cloud object storages:</p> Cloud Object Storage Scheme Amazon S3 <code>s3://</code> Google Cloud Storage <code>gs://</code>"},{"location":"spark-connector/UCSingleCatalog/#deltaCatalog","title":"DeltaCatalog","text":"<p><code>UCSingleCatalog</code> creates a <code>DeltaCatalog</code> (Delta Lake) when requested to initialize.</p> <p><code>DeltaCatalog</code> is a <code>DelegatingCatalogExtension</code> (Spark SQL) that is supposed to delegate to a UCProxy.</p>"},{"location":"spark-connector/UCSingleCatalog/#initialize","title":"Initialize TableCatalog","text":"CatalogPlugin <pre><code>initialize(\n  name: String,\n  options: CaseInsensitiveStringMap): Unit\n</code></pre> <p><code>initialize</code> is part of the <code>CatalogPlugin</code> (Spark SQL) abstraction.</p> <p><code>initialize</code> creates a UCProxy to initialize.</p> <p><code>initialize</code> creates a <code>DeltaCatalog</code> (Delta Lake) that is told to delegate to the <code>UCProxy</code> for unsupported <code>TableCatalog</code> features.</p> <p>Dynamic Loading</p> <p><code>initialize</code> expects that <code>org.apache.spark.sql.delta.catalog.DeltaCatalog</code> class is available on the CLASSPATH only (not at build time) and loads it dynamically.</p>"}]}