{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"The Internals of Unity Catalog 0.1.0","text":"<p>Welcome to The Internals of Unity Catalog online book! \ud83e\udd19</p> <p>I'm Jacek Laskowski, a Freelance Data(bricks) Engineer specializing in Apache Spark (incl. Spark SQL and Spark Structured Streaming), Delta Lake, Databricks, and Apache Kafka (incl. Kafka Streams) with brief forays into a wider data engineering space (e.g., Trino, Dask and dbt, mostly during Warsaw Data Engineering meetups).</p> <p>I'm very excited to have you here and hope you will enjoy exploring the internals of Unity Catalog as much as I have.</p> <p>Flannery O'Connor</p> <p>I write to discover what I know.</p> <p>\"The Internals Of\" series</p> <p>I'm also writing other online books in the \"The Internals Of\" series. Please visit \"The Internals Of\" Online Books home page.</p> <p>Expect text and code snippets from a variety of public sources. Attribution follows.</p> <p>Now, let's take a deep dive into Unity Catalog \ud83d\udd25</p> <p>Last update: 2024-07-10</p>"},{"location":"cli/","title":"Unity Catalog CLI","text":"<p>Unity Catalog CLI can be started using <code>./bin/uc</code> command-line utility that runs UnityCatalogCli.</p> <pre><code>$ ./bin/uc --help\n\nUsage: bin/uc &lt;entity&gt; &lt;operation&gt; [options]\nEntities: schema, volume, catalog, function, table\n\nBy default, the client will connect to UC running locally at http://localhost:8080\n\nTo connect to specific UC server, use --server https://&lt;host&gt;\n\nCurrently, auth using bearer token is supported. Please specify the token via --auth_token &lt;PAT Token&gt;\n\nFor detailed help on entity specific operations, use bin/uc &lt;entity&gt; --help\n</code></pre>"},{"location":"cli/#entities","title":"Entities","text":"<p>Unity Catalog CLI supports the following entities:</p> <ul> <li>schema</li> <li>volume</li> <li>catalog</li> <li>function</li> <li>table</li> </ul>"},{"location":"cli/#options","title":"Options","text":""},{"location":"cli/#output","title":"output <p>The output format</p>    Format Description     <code>json</code> Prints out the output directly (with no changes) for <code>read</code> and <code>call</code> subcommands when postProcessAndPrintOutput   <code>jsonPretty</code> Uses the default <code>PrettyPrinter</code> for the ObjectWriter to pretty-print JSONs","text":""},{"location":"cli/CatalogCli/","title":"CatalogCli","text":""},{"location":"cli/CliUtils/","title":"CliUtils","text":""},{"location":"cli/CliUtils/#postProcessAndPrintOutput","title":"postProcessAndPrintOutput","text":"<pre><code>void postProcessAndPrintOutput(\n  CommandLine cmd,\n  String output,\n  String subCommand)\n</code></pre> <p><code>postProcessAndPrintOutput</code>...FIXME</p> <p><code>postProcessAndPrintOutput</code> is used by the CLI handlers:</p> <ul> <li>CatalogCli</li> <li>FunctionCli</li> <li>SchemaCli</li> <li>TableCli</li> <li>VolumeCli</li> </ul>"},{"location":"cli/FunctionCli/","title":"FunctionCli","text":""},{"location":"cli/FunctionCli/#handle","title":"Handling Command Line","text":"<pre><code>void handle(\n  CommandLine cmd,\n  ApiClient apiClient)\n</code></pre> <p><code>handle</code> handles the given <code>cmd</code>.</p> Subcommand Params Handler <code>call</code> <code>full_name</code> executeFunction <code>get</code> <code>full_name</code> getFunction ... <p><code>handle</code> is used when:</p> <ul> <li><code>UnityCatalogCli</code> is launched on command line with function command</li> </ul>"},{"location":"cli/FunctionCli/#executeFunction","title":"Executing Function","text":"<pre><code>String executeFunction(\n  FunctionsApi functionsApi,\n  JSONObject json)\n</code></pre> <p><code>executeFunction</code> requests the given <code>FunctionsApi</code> for the function (by the <code>full_name</code> parameter) and executes it using <code>etc/data/function/python_engine.py</code> Python runtime.</p> <p>Note</p> <p><code>FunctionsApi</code> sends HTTP requests to FunctionService.</p>"},{"location":"cli/FunctionCli/#getFunction","title":"Looking Up Function","text":"<pre><code>String getFunction(\n  FunctionsApi functionsApi,\n  JSONObject json)\n</code></pre> <p><code>getFunction</code> requests the given <code>FunctionsApi</code> for the function (by the <code>full_name</code> parameter) and converts it to JSON (using the ObjectWriter).</p> <p>Note</p> <p><code>FunctionsApi</code> sends HTTP requests to FunctionService.</p> <pre><code>$ ./bin/uc function get --full_name unity.default.sum --output jsonPretty\n{\n  \"name\" : \"sum\",\n  \"catalog_name\" : \"unity\",\n  \"schema_name\" : \"default\",\n  \"input_params\" : {\n    \"parameters\" : [ {\n      \"name\" : \"x\",\n      \"type_text\" : \"int\",\n      \"type_json\" : \"{\\\"name\\\":\\\"x\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}\",\n      \"type_name\" : \"INT\",\n      \"type_precision\" : null,\n      \"type_scale\" : null,\n      \"type_interval_type\" : null,\n      \"position\" : 0,\n      \"parameter_mode\" : null,\n      \"parameter_type\" : null,\n      \"parameter_default\" : null,\n      \"comment\" : null\n    }, {\n      \"name\" : \"y\",\n      \"type_text\" : \"int\",\n      \"type_json\" : \"{\\\"name\\\":\\\"y\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}\",\n      \"type_name\" : \"INT\",\n      \"type_precision\" : null,\n      \"type_scale\" : null,\n      \"type_interval_type\" : null,\n      \"position\" : 1,\n      \"parameter_mode\" : null,\n      \"parameter_type\" : null,\n      \"parameter_default\" : null,\n      \"comment\" : null\n    }, {\n      \"name\" : \"z\",\n      \"type_text\" : \"int\",\n      \"type_json\" : \"{\\\"name\\\":\\\"z\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\\\"metadata\\\":{}}\",\n      \"type_name\" : \"INT\",\n      \"type_precision\" : null,\n      \"type_scale\" : null,\n      \"type_interval_type\" : null,\n      \"position\" : 2,\n      \"parameter_mode\" : null,\n      \"parameter_type\" : null,\n      \"parameter_default\" : null,\n      \"comment\" : null\n    } ]\n  },\n  \"data_type\" : \"INT\",\n  \"full_data_type\" : \"INT\",\n  \"return_params\" : null,\n  \"routine_body\" : \"EXTERNAL\",\n  \"routine_definition\" : \"t = x + y + z\\\\nreturn t\",\n  \"routine_dependencies\" : null,\n  \"parameter_style\" : \"S\",\n  \"is_deterministic\" : true,\n  \"sql_data_access\" : \"NO_SQL\",\n  \"is_null_call\" : false,\n  \"security_type\" : \"DEFINER\",\n  \"specific_name\" : \"sum\",\n  \"comment\" : \"Add two numbers\",\n  \"properties\" : null,\n  \"full_name\" : \"unity.default.sum\",\n  \"created_at\" : 1720082975600,\n  \"updated_at\" : null,\n  \"function_id\" : \"6b587147-128f-4f05-8a4f-173a18831bdf\",\n  \"external_language\" : \"python\"\n}\n</code></pre>"},{"location":"cli/PythonInvoker/","title":"PythonInvoker","text":""},{"location":"cli/SchemaCli/","title":"SchemaCli","text":""},{"location":"cli/TableCli/","title":"TableCli","text":""},{"location":"cli/UnityCatalogCli/","title":"UnityCatalogCli","text":"<p><code>UnityCatalogCli</code> can be launched on command line using <code>./bin/uc</code> command-line utility.</p>"},{"location":"cli/UnityCatalogCli/#options","title":"Options","text":""},{"location":"cli/UnityCatalogCli/#auth_token","title":"auth_token","text":"<p>Personal access token (PAT) to authorize requests</p> <p>When specified, <code>UnityCatalogCli</code> creates an ApiClient that adds the bearer token in the HTTP <code>Authorization</code> header to every request.</p> <pre><code>authorization: Bearer [pat]\n</code></pre>"},{"location":"cli/UnityCatalogCli/#server","title":"server","text":"<p>Default: <code>http://localhost:8080</code></p>"},{"location":"cli/UnityCatalogCli/#main","title":"Launching Standalone Application","text":"<p><code>main</code> creates an ApiClient and handles the command (specified as the first argument on command line).</p> Command Handler <code>catalog</code> CatalogCli <code>function</code> FunctionCli <code>schema</code> SchemaCli <code>table</code> TableCli <code>volume</code> VolumeCli"},{"location":"cli/UnityCatalogCli/#getApiClient","title":"Creating ApiClient","text":"<pre><code>ApiClient getApiClient(\n  CommandLine cmd)\n</code></pre> <p><code>getApiClient</code> creates an ApiClient with the following:</p> Attribute Value The host name of the UC service server option The port number of the UC service The port from the server option, if specified, or one of the following: <ul><li><code>443</code> for <code>https</code> scheme<li><code>8080</code> for <code>http</code> scheme"},{"location":"cli/UnityCatalogCli/#logging","title":"Logging","text":"<p><code>UnityCatalogCli</code> uses <code>etc/conf/cli.log4j2.properties</code> as the logging configuration file (via log4j.configurationFile configuration property).</p>"},{"location":"cli/VolumeCli/","title":"VolumeCli","text":""},{"location":"client/","title":"Unity Catalog's Client API","text":""},{"location":"client/ApiClient/","title":"ApiClient","text":"<p><code>ApiClient</code> is an API client of Unity Catalog Localhost Reference Server.</p> OpenAPI Generator <p><code>ApiClient</code> was auto-generated using OpenAPI Generator based on Unity Catalog's OpenAPI specification.</p> <p>sbt-openapi-generator 7.5.0 is used in the <code>client</code> sbt module of the <code>unitycatalog</code> project.</p> <p><code>ApiClient</code> uses <code>http://localhost:8080/api/2.1/unity-catalog</code> as the default base URI (unless overriden).</p> <p><code>ApiClient</code> is used by UnityCatalogCli.</p>"},{"location":"client/ApiClient/#updateBaseUri","title":"updateBaseUri","text":"<pre><code>void updateBaseUri(\n  String baseUri)\n</code></pre> <p><code>updateBaseUri</code>...FIXME</p>"},{"location":"features/","title":"Unity Catalog","text":"<p>Unity Catalog is an open-source universal catalog of the following assets:</p> <ul> <li>Catalogs</li> <li>Credentials (for Tables and Volumes)</li> <li>Functions</li> <li>Schemas</li> <li>Tables</li> <li>Volumes</li> </ul> <p>Unity Catalog is made up of the following runtimes:</p> <ul> <li>Reference Server</li> <li>Example CLI (based on the Client API)</li> </ul> <p>The server and CLI can be started on command line using <code>bin/start-uc-server</code> and <code>bin/uc</code> shell scripts, respectively.</p>"},{"location":"features/#running-unity-catalog","title":"Running Unity Catalog","text":"<p>Java 11 or above is required to run Unity Catalog.</p> <pre><code>$ java --version\nopenjdk 17.0.10 2024-01-16 LTS\nOpenJDK Runtime Environment Zulu17.48+15-CA (build 17.0.10+7-LTS)\nOpenJDK 64-Bit Server VM Zulu17.48+15-CA (build 17.0.10+7-LTS, mixed mode, sharing)\n</code></pre> <pre><code>$ ./bin/start-uc-server\n###################################################################\n#  _    _       _ _            _____      _        _              #\n# | |  | |     (_) |          / ____|    | |      | |             #\n# | |  | |_ __  _| |_ _   _  | |     __ _| |_ __ _| | ___   __ _  #\n# | |  | | '_ \\| | __| | | | | |    / _` | __/ _` | |/ _ \\ / _` | #\n# | |__| | | | | | |_| |_| | | |___| (_| | || (_| | | (_) | (_| | #\n#  \\____/|_| |_|_|\\__|\\__, |  \\_____\\__,_|\\__\\__,_|_|\\___/ \\__, | #\n#                      __/ |                                __/ | #\n#                     |___/               v0.1.0-SNAPSHOT  |___/  #\n###################################################################\n</code></pre> <pre><code>$ ./bin/uc\nPlease provide a entity.\n\nUsage: bin/uc &lt;entity&gt; &lt;operation&gt; [options]\nEntities: schema, volume, catalog, function, table\n\nBy default, the client will connect to UC running locally at http://localhost:8080\n\nTo connect to specific UC server, use --server https://&lt;host&gt;\n\nCurrently, auth using bearer token is supported. Please specify the token via --auth_token &lt;PAT Token&gt;\n\nFor detailed help on entity specific operations, use bin/uc &lt;entity&gt; --help\n</code></pre>"},{"location":"features/#learning-resources","title":"Learning Resources","text":"<ol> <li>Open Sourcing Unity Catalog</li> <li>Getting Started with X-Table and Unity Catalog | Universal Datalakes | Hands on Labs with an accompanying video on YouTube</li> <li>Unitycatalog: the first look</li> </ol>"},{"location":"persistent-storage/","title":"Persistent Storage","text":"<p>Unity Catalog's Localhost Reference Server uses Hibernate as the persistence layer over H2 Database Engine (in <code>etc/db/h2db.mv.db</code> file).</p>"},{"location":"persistent-storage/CatalogRepository/","title":"CatalogRepository","text":""},{"location":"persistent-storage/FunctionRepository/","title":"FunctionRepository","text":""},{"location":"persistent-storage/FunctionRepository/#SESSION_FACTORY","title":"SessionFactory","text":"<p><code>FunctionRepository</code> gets at SessionFactory in a static initializer.</p> Static Initializer <p>A static initializer declared in a class is executed when the class is initialized.</p> <p>Learn more in the Java Language Specification.</p> <p>This <code>SessionFactory</code> is used for the following:</p> <ul> <li>createFunction</li> <li>listFunctions</li> <li>getFunction</li> <li>deleteFunction</li> </ul>"},{"location":"persistent-storage/FunctionRepository/#listFunctions","title":"Listing Functions","text":"<pre><code>ListFunctionsResponse listFunctions(\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; nextPageToken)\n</code></pre> <p><code>listFunctions</code> requests this SchemaRepository for the SchemaInfoDAO for the given catalog (<code>catalogName</code>) and schema (<code>schemaName</code>).</p> <p><code>listFunctions</code> creates the following Hibernate query (with the <code>schemaId</code> parameter being the ID of the schema):</p> <pre><code>from FunctionInfoDAO f where f.schemaId = [schemaId]\n</code></pre> <p>In the end, <code>listFunctions</code> executes the query to list all the registered functions.</p> <p><code>listFunctions</code> is used when:</p> <ul> <li><code>FunctionService</code> is requested to list functions</li> </ul>"},{"location":"persistent-storage/HibernateUtil/","title":"HibernateUtil","text":"<p><code>HibernateUtil</code> is used to access the system-wide SessionFactory (Hibernate).</p>"},{"location":"persistent-storage/HibernateUtil/#properties","title":"PropertiesUtil","text":"<p><code>HibernateUtil</code> gets at the only instance of PropertiesUtil in a static initializer.</p> Static Initializer <p>A static initializer declared in a class is executed when the class is initialized.</p> <p>Learn more in the Java Language Specification.</p>"},{"location":"persistent-storage/HibernateUtil/#sessionFactory","title":"SessionFactory","text":"<p><code>HibernateUtil</code> creates a SessionFactory in a static initializer.</p> Static Initializer <p>A static initializer declared in a class is executed when the class is initialized.</p> <p>Learn more in the Java Language Specification.</p> <p>This <code>SessionFactory</code> is used by the following:</p> <ul> <li>CatalogRepository</li> <li>FunctionRepository</li> <li>SchemaRepository</li> <li>TableRepository</li> <li>VolumeRepository</li> <li>IcebergRestCatalogService</li> </ul>"},{"location":"persistent-storage/HibernateUtil/#createSessionFactory","title":"createSessionFactory","text":"<pre><code>SessionFactory createSessionFactory()\n</code></pre> Static Method <p><code>createSessionFactory</code> is a Java class method that is always invoked without reference to a particular object.</p> <p>Learn more in the Java Language Specification.</p> <p><code>createSessionFactory</code>...FIXME</p>"},{"location":"persistent-storage/PropertiesUtil/","title":"PropertiesUtil","text":"<p><code>PropertiesUtil</code> is a system-wide configuration of S3 buckets</p>"},{"location":"persistent-storage/PropertiesUtil/#loadProperties","title":"Loading S3 Bucket Configuration","text":"<pre><code>void loadProperties()\n</code></pre> <p><code>loadProperties</code> loads the key-value pairs from <code>etc/conf/server.properties</code> file into the Properties.</p> <p><code>loadProperties</code> prints out the following DEBUG message to the logs:</p> <pre><code>Properties loaded successfully\n</code></pre> <p><code>loadProperties</code> creates a S3BucketConfig for every tuple of the following properties:</p> <ul> <li><code>s3.bucketPath.[n]</code></li> <li><code>s3.accessKey.[n]</code></li> <li><code>s3.secretKey.[n]</code></li> <li><code>s3.sessionToken.[n]</code></li> </ul> <p>Note</p> <p><code>loadProperties</code> silently skips processing a tuple if any of the properties is undefined (<code>null</code>).</p> <p>In the end, <code>loadProperties</code> registers the <code>S3BucketConfig</code>s by <code>s3.bucketPath</code>.</p> <p><code>loadProperties</code> is used when:</p> <ul> <li><code>PropertiesUtil</code> is created</li> </ul>"},{"location":"persistent-storage/PropertiesUtil/#getS3BucketConfig","title":"Looking Up S3BucketConfig by S3 Path","text":"<pre><code>S3BucketConfig getS3BucketConfig(\n  String s3Path)\n</code></pre> <p><code>getS3BucketConfig</code> creates a URI for the given <code>s3Path</code>.</p> <p><code>getS3BucketConfig</code> creates a bucket path for the following URI parts (separated using <code>://</code>):</p> <ul> <li>Scheme</li> <li>Host</li> </ul> <p><code>getS3BucketConfig</code> uses the bucket path (<code>scheme://host</code>) to look up the <code>S3BucketConfig</code> in the Properties.</p> <p><code>getS3BucketConfig</code> is used when:</p> <ul> <li><code>TemporaryCredentialUtils</code> is requested to find a S3 bucket config</li> </ul>"},{"location":"persistent-storage/S3BucketConfig/","title":"S3BucketConfig","text":"<p><code>S3BucketConfig</code> is a S3 bucket configuration.</p> <p><code>S3BucketConfig</code> is used when:</p> <ul> <li><code>TemporaryCredentialUtils</code> is requested to findS3BucketConfig</li> <li><code>PropertiesUtil</code> is requested to getS3BucketConfig</li> </ul>"},{"location":"persistent-storage/S3BucketConfig/#creating-instance","title":"Creating Instance","text":"<p><code>S3BucketConfig</code> takes the following to be created:</p> <ul> <li> <code>bucketPath</code> <li> <code>accessKey</code> <li> <code>secretKey</code> <li> <code>sessionToken</code> <p><code>S3BucketConfig</code> is created when:</p> <ul> <li><code>PropertiesUtil</code> is requested to loadProperties</li> </ul>"},{"location":"persistent-storage/SchemaRepository/","title":"SchemaRepository","text":""},{"location":"persistent-storage/TableRepository/","title":"TableRepository","text":""},{"location":"persistent-storage/VolumeRepository/","title":"VolumeRepository","text":""},{"location":"server/","title":"Unity Catalog Localhost Reference Server","text":"<p>Unity Catalog Localhost Reference Server can be started using <code>./bin/start-uc-server</code> command-line utility (that runs UnityCatalogServer).</p> <p>Unity Catalog Server listens at <code>8080</code> by default to handle HTTP requests.</p>"},{"location":"server/AwsCredentials/","title":"AwsCredentials","text":""},{"location":"server/CatalogService/","title":"CatalogService","text":"<p><code>CatalogService</code> is a Unity Catalog API service to handle HTTP requests at /api/2.1/unity-catalog/catalogs URL.</p> Method URL Handler Params GET listCatalogs POST createCatalog JSON-ified CreateCatalog GET <code>/{name}</code> getCatalog <ul><li>name</li></ul> PATCH <code>/{name}</code> updateCatalog <ul><li>name</li></ul> DELETE <code>/{name}</code> deleteCatalog <ul><li>name</li></ul> <p><code>CatalogService</code> is also used to create IcebergRestCatalogService.</p>"},{"location":"server/CatalogService/#listCatalogs","title":"listCatalogs","text":"<pre><code>HttpResponse listCatalogs()\n</code></pre> <p><code>listCatalogs</code>...FIXME</p> <p><code>listCatalogs</code> is used when:</p> <ul> <li><code>CatalogService</code> is requested to handle HTTP <code>GET</code> requests on catalogs URL</li> <li>FIXME</li> </ul>"},{"location":"server/CatalogService/#demo","title":"Demo","text":"<pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/catalogs\nHTTP/1.1 200 OK\ncontent-length: 184\ncontent-type: application/json\ndate: Thu, 4 Jul 2024 17:56:19 GMT\nserver: Armeria/1.28.4\n\n{\n    \"catalogs\": [\n        {\n            \"comment\": \"Main catalog\",\n            \"created_at\": 1720090500565,\n            \"id\": \"17562adb-e6f8-463e-b82a-22264b067d6b\",\n            \"name\": \"unity\",\n            \"properties\": {},\n            \"updated_at\": null\n        }\n    ],\n    \"next_page_token\": null\n}\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/catalogs | jq '.catalogs[].name'\n\"unity\"\n</code></pre>"},{"location":"server/CreateCatalog/","title":"CreateCatalog","text":""},{"location":"server/CreateTable/","title":"CreateTable","text":""},{"location":"server/FunctionService/","title":"FunctionService","text":"<p><code>FunctionService</code> is a Unity Catalog API service to handle HTTP requests at /api/2.1/unity-catalog/functions URL.</p> Method URL Handler Params POST createFunction DELETE <code>/{name}</code> deleteFunction <code>name</code><code>force</code> GET <code>/{name}</code> getFunction <code>name</code> GET listFunctions <code>catalog_name</code><code>schema_name</code><code>max_results</code><code>page_token</code> (not used)"},{"location":"server/FunctionService/#listFunctions","title":"Listing Functions","text":"<pre><code>HttpResponse listFunctions(\n  String catalogName,\n  String schemaName,\n  Optional&lt;Integer&gt; maxResults,\n  Optional&lt;String&gt; pageToken)\n</code></pre> <p><code>listFunctions</code> requests the FunctionRepository to list functions.</p> <pre><code>$ ./bin/uc function list --catalog unity --schema default\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    NAME    \u2502CATALOG_\u2502SCHEMA_N\u2502INPUT_PA\u2502DATA_TYP\u2502FULL_DAT\u2502RETURN_P\u2502ROUTINE_\u2502ROUTINE_\u2502ROUTINE_\u2502PARAMETE\u2502IS_DETER\u2502SQL_DATA\u2502IS_NULL_\u2502SECURITY\u2502SPECIFIC\u2502COMMENT \u2502PROPERTI\u2502FULL_NAM\u2502CREATED_\u2502UPDATED_\u2502FUNCTION\u2502EXTERNAL\u2502\n\u2502            \u2502  NAME  \u2502  AME   \u2502  RAMS  \u2502   E    \u2502 A_TYPE \u2502 ARAMS  \u2502  BODY  \u2502DEFINITI\u2502DEPENDEN\u2502R_STYLE \u2502MINISTIC\u2502_ACCESS \u2502  CALL  \u2502 _TYPE  \u2502 _NAME  \u2502        \u2502   ES   \u2502   E    \u2502   AT   \u2502   AT   \u2502  _ID   \u2502_LANGUAG\u2502\n\u2502            \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502   ON   \u2502  CIES  \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502        \u2502   E    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502sum         \u2502unity   \u2502default \u2502{\"par...\u2502INT     \u2502INT     \u2502null    \u2502EXTERNAL\u2502t = x...\u2502null    \u2502S       \u2502true    \u2502NO_SQL  \u2502false   \u2502DEFINER \u2502sum     \u2502Add t...\u2502null    \u2502unity...\u250217200...\u2502null    \u25026b587...\u2502python  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502lowercase   \u2502unity   \u2502default \u2502{\"par...\u2502STRING  \u2502STRING  \u2502null    \u2502EXTERNAL\u2502g = s...\u2502null    \u2502S       \u2502true    \u2502NO_SQL  \u2502false   \u2502DEFINER \u2502lower...\u2502Conve...\u2502null    \u2502unity...\u250217200...\u2502null    \u2502a1722...\u2502python  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"server/FunctionService/#getFunction","title":"Looking Up Function","text":"<pre><code>HttpResponse getFunction(\n  String name)\n</code></pre> <p><code>listFunctions</code> requests the FunctionRepository for the function by the given <code>name</code>.</p> <pre><code>$ ./bin/uc function get --full_name unity.default.sum\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                                               VALUE                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                \u2502sum                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME        \u2502unity                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME         \u2502default                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502INPUT_PARAMS        \u2502{\"parameters\":[{\"name\":\"x\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"x\\\",\\\"type\\\":\\\"integer\\\",\\\"nul\u2502\n\u2502                    \u2502lable\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":null,\"type_scale\":null,\"type_inter\u2502\n\u2502                    \u2502val_type\":null,\"position\":0,\"parameter_mode\":null,\"parameter_type\":null,\"parameter_default\":null,\"co\u2502\n\u2502                    \u2502mment\":null},{\"name\":\"y\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"y\\\",\\\"type\\\":\\\"integer\\\",\\\"nulla\u2502\n\u2502                    \u2502ble\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":null,\"type_scale\":null,\"type_interva\u2502\n\u2502                    \u2502l_type\":null,\"position\":1,\"parameter_mode\":null,\"parameter_type\":null,\"parameter_default\":null,\"comm\u2502\n\u2502                    \u2502ent\":null},{\"name\":\"z\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"z\\\",\\\"type\\\":\\\"integer\\\",\\\"nullabl\u2502\n\u2502                    \u2502e\\\":true,\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":null,\"type_scale\":null,\"type_interval_\u2502\n\u2502                    \u2502type\":null,\"position\":2,\"parameter_mode\":null,\"parameter_type\":null,\"parameter_default\":null,\"commen\u2502\n\u2502                    \u2502t\":null}]}                                                                                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502DATA_TYPE           \u2502INT                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FULL_DATA_TYPE      \u2502INT                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502RETURN_PARAMS       \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ROUTINE_BODY        \u2502EXTERNAL                                                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ROUTINE_DEFINITION  \u2502t = x + y + z\\nreturn t                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502ROUTINE_DEPENDENCIES\u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PARAMETER_STYLE     \u2502S                                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502IS_DETERMINISTIC    \u2502true                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SQL_DATA_ACCESS     \u2502NO_SQL                                                                                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502IS_NULL_CALL        \u2502false                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SECURITY_TYPE       \u2502DEFINER                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SPECIFIC_NAME       \u2502sum                                                                                                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT             \u2502Add two numbers                                                                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES          \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FULL_NAME           \u2502unity.default.sum                                                                                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT          \u25021720082975600                                                                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT          \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502FUNCTION_ID         \u25026b587147-128f-4f05-8a4f-173a18831bdf                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502EXTERNAL_LANGUAGE   \u2502python                                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"server/IcebergRestCatalogService/","title":"IcebergRestCatalogService \u2014 Apache Iceberg REST APIs","text":"<p><code>IcebergRestCatalogService</code> is a Unity Catalog API service to handle HTTP requests at /api/2.1/unity-catalog/iceberg URL.</p> Method URL Handler Params GET <code>/v1/config</code> config GET <code>/v1/namespaces/[namespace]</code> getNamespace <code>namespace</code> GET <code>/v1/namespaces</code> listNamespaces <code>parent</code> GET <code>/v1/namespaces/[namespace]/tables</code> listTables <code>namespace</code> GET <code>/v1/namespaces/[namespace]/tables/[table]</code> loadTable <code>namespace</code><code>table</code> POST <code>/v1/namespaces/[namespace]/tables/[table]/metrics</code> reportMetrics <code>namespace</code><code>table</code> HEAD <code>/v1/namespaces/[namespace]/tables/[table]</code> tableExists <code>namespace</code><code>table</code> <p><code>IcebergRestCatalogService</code> uses Hibernate.</p>"},{"location":"server/IcebergRestCatalogService/#creating-instance","title":"Creating Instance","text":"<p><code>IcebergRestCatalogService</code> takes the following to be created:</p> <ul> <li>CatalogService</li> <li> SchemaService <li> TableService <p><code>IcebergRestCatalogService</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> is requested to add the API services</li> </ul>"},{"location":"server/IcebergRestCatalogService/#catalogService","title":"CatalogService","text":"<p><code>IcebergRestCatalogService</code> is given a CatalogService when created.</p> <p>This <code>CatalogService</code> is used for the following:</p> <ul> <li>listNamespaces with no parent</li> <li>getNamespace with the catalog only (the first layer of Unity Catalog's three-level namespace)</li> </ul>"},{"location":"server/IcebergRestCatalogService/#sessionFactory","title":"SessionFactory","text":"<p><code>IcebergRestCatalogService</code> creates a SessionFactory when created.</p> <p>This <code>SessionFactory</code> is used for the following:</p> <ul> <li>tableExists</li> <li>loadTable</li> <li>listTables</li> </ul>"},{"location":"server/SchemaService/","title":"SchemaService","text":""},{"location":"server/TableService/","title":"TableService","text":"<p><code>TableService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/</code> URL.</p> Method URL Handler Params GET <code>/tables</code> listTables <ul><li>catalog_name</li><li>schema_name</li><li>max_results</li><li>page_token</li><li>omit_properties</li><li>omit_columns POST <code>/tables</code> createTable JSON-ified CreateTable GET <code>/tables/{full_name}</code> getTable <ul><li>fullName</li></ul> DELETE <code>/tables/{full_name}</code> deleteTable <ul><li>fullName</li></ul> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/tables catalog_name==unity schema_name==default | jq '.tables[].name'\n\"numbers\"\n\"marksheet_uniform\"\n\"marksheet\"\n</code></pre>"},{"location":"server/TemporaryCredentialUtils/","title":"TemporaryCredentialUtils","text":""},{"location":"server/TemporaryCredentialUtils/#findS3BucketConfig","title":"Looking Up AwsCredentials for S3 Storage Location","text":"<pre><code>AwsCredentials findS3BucketConfig(\n  String storageLocation)\n</code></pre> <p><code>findS3BucketConfig</code> requests the system-wide PropertiesUtil instance for getS3BucketConfig.</p> <p><code>findS3BucketConfig</code> creates a AwsCredentials.</p> Property Value accessKeyId accessKey secretAccessKey secretKey sessionToken sessionToken <p><code>findS3BucketConfig</code> is used when:</p> <ul> <li><code>TemporaryTableCredentialsService</code> is requested to generateTemporaryTableCredential</li> <li><code>TemporaryVolumeCredentialsService</code> is requested to generateTemporaryTableCredential</li> </ul>"},{"location":"server/TemporaryTableCredentialsService/","title":"TemporaryTableCredentialsService","text":"<p><code>TemporaryTableCredentialsService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/temporary-table-credentials</code> URL.</p> Method URL Handler Params POST generateTemporaryTableCredential GenerateTemporaryTableCredential"},{"location":"server/TemporaryTableCredentialsService/#TABLE_REPOSITORY","title":"TableRepository","text":"<p><code>TemporaryTableCredentialsService</code> gets at the system-wide TableRepository instance when created.</p>"},{"location":"server/TemporaryTableCredentialsService/#generateTemporaryTableCredential","title":"Looking Up Table Credentials","text":"<pre><code>HttpResponse generateTemporaryTableCredential(\n  GenerateTemporaryTableCredential generateTemporaryTableCredential)\n</code></pre> <p><code>generateTemporaryTableCredential</code> looks up the table metadata (by the <code>tableId</code> of the given <code>GenerateTemporaryTableCredential</code>) in the TableRepository.</p> <p>Unless the storage location is on S3 (starts with <code>s3://</code> prefix), <code>generateTemporaryTableCredential</code> assumes local file system and returns empty credentials.</p> <p>For a S3 storage location, <code>generateTemporaryTableCredential</code> finds the S3 storage location credentials.</p>"},{"location":"server/TemporaryTableCredentialsService/#demo","title":"Demo","text":""},{"location":"server/TemporaryTableCredentialsService/#local-file-system","title":"Local File System","text":"<pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/temporary-table-credentials \\\n    table_id=b5d6db68-5eca-485c-be5f-5f53d4f27f60 \\\n    operation=READ\nHTTP/1.1 200 OK\ncontent-length: 52\ncontent-type: application/json\ndate: Tue, 9 Jul 2024 11:54:58 GMT\nserver: Armeria/1.28.4\n\n{\n    \"aws_temp_credentials\": null,\n    \"expiration_time\": null\n}\n</code></pre>"},{"location":"server/TemporaryTableCredentialsService/#s3-storage-location","title":"S3 Storage Location","text":"<p>Register a table on S3.</p> <pre><code>$ ./bin/uc table create \\\n    --full_name unity.default.s3_creds_demo \\\n    --columns \"id INT, name STRING\" \\\n    --storage_location \"s3://japila.pl/my_demo_bucket/s3_creds_demo\"\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        KEY         \u2502                                               VALUE                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502NAME                \u2502s3_creds_demo                                                                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CATALOG_NAME        \u2502unity                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502SCHEMA_NAME         \u2502default                                                                                             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_TYPE          \u2502EXTERNAL                                                                                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502DATA_SOURCE_FORMAT  \u2502DELTA                                                                                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COLUMNS             \u2502{\"name\":\"id\",\"type_text\":\"int\",\"type_json\":\"{\\\"name\\\":\\\"id\\\",\\\"type\\\":\\\"integer\\\",\\\"nullable\\\":true,\u2502\n\u2502                    \u2502\\\"metadata\\\":{}}\",\"type_name\":\"INT\",\"type_precision\":0,\"type_scale\":0,\"type_interval_type\":null,\"pos\u2502\n\u2502                    \u2502ition\":0,\"comment\":null,\"nullable\":true,\"partition_index\":null}                                     \u2502\n\u2502                    \u2502{\"name\":\"name\",\"type_text\":\"string\",\"type_json\":\"{\\\"name\\\":\\\"name\\\",\\\"type\\\":\\\"string\\\",\\\"nullable\\\"\u2502\n\u2502                    \u2502:true,\\\"metadata\\\":{}}\",\"type_name\":\"STRING\",\"type_precision\":0,\"type_scale\":0,\"type_interval_type\":\u2502\n\u2502                    \u2502null,\"position\":1,\"comment\":null,\"nullable\":true,\"partition_index\":null}                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502STORAGE_LOCATION    \u2502s3://japila.pl/my_demo_bucket/s3_creds_demo                                                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502COMMENT             \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502PROPERTIES          \u2502{}                                                                                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502CREATED_AT          \u25021720539043045                                                                                       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502UPDATED_AT          \u2502null                                                                                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TABLE_ID            \u2502020270b2-621e-4157-a73d-6a63c3b86bdd                                                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/temporary-table-credentials \\\n    table_id=020270b2-621e-4157-a73d-6a63c3b86bdd   \\\n    operation=READ\n\nHTTP/1.1 400 Bad Request\ncontent-length: 192\ncontent-type: application/json\ndate: Tue, 9 Jul 2024 14:54:48 GMT\nserver: Armeria/1.28.4\n\n{\n    \"details\": [\n        {\n            \"@type\": \"google.rpc.ErrorInfo\",\n            \"metadata\": {},\n            \"reason\": \"FAILED_PRECONDITION\"\n        }\n    ],\n    \"error_code\": \"FAILED_PRECONDITION\",\n    \"message\": \"S3 bucket configuration not found.\",\n    \"stack_trace\": null\n}\n</code></pre> <p>Add a S3 bucket configuration to <code>etc/conf/server.properties</code> for the table location and bounce the UC server.</p> <pre><code>$ cat etc/conf/server.properties\nserver.env=dev\n## temp credential config for s3 (Multiple s3 config can be added by incrementing the index)\ns3.bucketPath.0=s3://japila.pl\ns3.accessKey.0=FIXME_accessKey\ns3.secretKey.0=FIXME_secretKey\ns3.sessionToken.0=FIXME_sessionToken\n</code></pre> <pre><code>./bin/start-uc-server\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/temporary-table-credentials \\\n    table_id=020270b2-621e-4157-a73d-6a63c3b86bdd   \\\n    operation=READ\nHTTP/1.1 200 OK\ncontent-length: 158\ncontent-type: application/json\ndate: Tue, 9 Jul 2024 15:32:04 GMT\nserver: Armeria/1.28.4\n\n{\n    \"aws_temp_credentials\": {\n        \"access_key_id\": \"FIXME_accessKey\",\n        \"secret_access_key\": \"FIXME_secretKey\",\n        \"session_token\": \"FIXME_sessionToken\"\n    },\n    \"expiration_time\": null\n}\n</code></pre>"},{"location":"server/TemporaryVolumeCredentialsService/","title":"TemporaryVolumeCredentialsService","text":""},{"location":"server/UnityCatalogServer/","title":"UnityCatalogServer \u2014 Unity Catalog's Localhost Reference Server","text":"<p><code>UnityCatalogServer</code> is Unity Catalog's Localhost Reference Server.</p> <p><code>UnityCatalogServer</code> can be started on command line to handle REST API requests at the port (default: <code>8080</code> or the closest one open).</p> <pre><code>./bin/start-uc-server [port]\n</code></pre> <p><code>UnityCatalogServer</code> starts Armeria documentation service at http://localhost:8081/docs/ and the Unity Catalog API services.</p>"},{"location":"server/UnityCatalogServer/#creating-instance","title":"Creating Instance","text":"<p><code>UnityCatalogServer</code> takes the following to be created:</p> <ul> <li> Port (default: <code>8080</code>) <p>While being created, <code>UnityCatalogServer</code> builds the Server:</p> <ol> <li>Handle HTTP requests at the given port</li> <li>Bind the Armeria documentation service (Armeria) under <code>/docs</code> URL</li> <li>Register the API services</li> </ol> <p><code>UnityCatalogServer</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> command-line utility is started</li> </ul>"},{"location":"server/UnityCatalogServer/#server","title":"Server","text":"<p><code>UnityCatalogServer</code> creates a <code>Server</code> (Armeria) when created.</p>"},{"location":"server/UnityCatalogServer/#addServices","title":"Registering API Services","text":"<pre><code>void addServices(\n  ServerBuilder sb)\n</code></pre> <p><code>addServices</code> creates and registers Unity Catalog API services at the <code>/api/2.1/unity-catalog/</code> base path.</p> URL Service <code>/</code> Returns <code>Hello, Unity Catalog!</code> message <code>/api/2.1/unity-catalog/</code> TableService <code>/api/2.1/unity-catalog/catalogs</code> CatalogService <code>/api/2.1/unity-catalog/functions</code> FunctionService <code>/api/2.1/unity-catalog/iceberg</code> IcebergRestCatalogService <code>/api/2.1/unity-catalog/schemas</code> SchemaService <code>/api/2.1/unity-catalog/temporary-table-credentials</code> TemporaryTableCredentialsService <code>/api/2.1/unity-catalog/temporary-volume-credentials</code> TemporaryVolumeCredentialsService <code>/api/2.1/unity-catalog/volumes</code> VolumeService"},{"location":"server/UnityCatalogServer/#main","title":"Launching UnityCatalogServer","text":"<pre><code>void main(\n  String[] args)\n</code></pre> <p><code>main</code> starts probing for the available port from <code>8081</code> or the first argument specified on command line.</p> <p><code>main</code> creates a UnityCatalogServer.</p> <p><code>main</code> requests the <code>UnityCatalogServer</code> to print out the welcome ASCII art message.</p> <p><code>main</code> requests the <code>UnityCatalogServer</code> to start.</p> <p><code>main</code>...FIXME</p>"},{"location":"server/VolumeService/","title":"VolumeService","text":""}]}