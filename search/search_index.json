{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"The Internals of Unity Catalog 0.1.0","text":"<p>Welcome to The Internals of Unity Catalog online book! \ud83e\udd19</p> <p>I'm Jacek Laskowski, a Freelance Data(bricks) Engineer specializing in Apache Spark (incl. Spark SQL and Spark Structured Streaming), Delta Lake, Databricks, and Apache Kafka (incl. Kafka Streams) with brief forays into a wider data engineering space (e.g., Trino, Dask and dbt, mostly during Warsaw Data Engineering meetups).</p> <p>I'm very excited to have you here and hope you will enjoy exploring the internals of Unity Catalog as much as I have.</p> <p>Flannery O'Connor</p> <p>I write to discover what I know.</p> <p>\"The Internals Of\" series</p> <p>I'm also writing other online books in the \"The Internals Of\" series. Please visit \"The Internals Of\" Online Books home page.</p> <p>Expect text and code snippets from a variety of public sources. Attribution follows.</p> <p>Now, let's take a deep dive into Unity Catalog \ud83d\udd25</p> <p>Last update: 2024-07-04</p>"},{"location":"overview/","title":"Overview","text":"<p>Just started</p>"},{"location":"server/","title":"Unity Catalog Server","text":"<p>UnityCatalogServer command-line utility to run the Unity Catalog Server.</p>"},{"location":"server/CatalogService/","title":"CatalogService","text":"<p><code>CatalogService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/catalogs</code> URL.</p> Method URL Handler Params GET listCatalogs POST createCatalog JSON-ified CreateCatalog GET <code>/{name}</code> getCatalog <ul><li>name</li></ul> PATCH <code>/{name}</code> updateCatalog <ul><li>name</li></ul> DELETE <code>/{name}</code> deleteCatalog <ul><li>name</li></ul> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/catalogs\nHTTP/1.1 200 OK\ncontent-length: 184\ncontent-type: application/json\ndate: Thu, 4 Jul 2024 17:56:19 GMT\nserver: Armeria/1.28.4\n\n{\n    \"catalogs\": [\n        {\n            \"comment\": \"Main catalog\",\n            \"created_at\": 1720090500565,\n            \"id\": \"17562adb-e6f8-463e-b82a-22264b067d6b\",\n            \"name\": \"unity\",\n            \"properties\": {},\n            \"updated_at\": null\n        }\n    ],\n    \"next_page_token\": null\n}\n</code></pre> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/catalogs | jq '.catalogs[].name'\n\"unity\"\n</code></pre>"},{"location":"server/CreateCatalog/","title":"CreateCatalog","text":""},{"location":"server/CreateTable/","title":"CreateTable","text":""},{"location":"server/FunctionService/","title":"FunctionService","text":""},{"location":"server/IcebergRestCatalogService/","title":"IcebergRestCatalogService","text":""},{"location":"server/SchemaService/","title":"SchemaService","text":""},{"location":"server/TableService/","title":"TableService","text":"<p><code>TableService</code> is a Unity Catalog API service that UnityCatalogServer uses to handle HTTP requests at <code>/api/2.1/unity-catalog/</code> URL.</p> Method URL Handler Params GET <code>/tables</code> listTables <ul><li>catalog_name</li><li>schema_name</li><li>max_results</li><li>page_token</li><li>omit_properties</li><li>omit_columns POST <code>/tables</code> createTable JSON-ified CreateTable GET <code>/tables/{full_name}</code> getTable <ul><li>fullName</li></ul> DELETE <code>/tables/{full_name}</code> deleteTable <ul><li>fullName</li></ul> <pre><code>$ http http://localhost:8081/api/2.1/unity-catalog/tables catalog_name==unity schema_name==default | jq '.tables[].name'\n\"numbers\"\n\"marksheet_uniform\"\n\"marksheet\"\n</code></pre>"},{"location":"server/TemporaryTableCredentialsService/","title":"TemporaryTableCredentialsService","text":""},{"location":"server/TemporaryVolumeCredentialsService/","title":"TemporaryVolumeCredentialsService","text":""},{"location":"server/UnityCatalogServer/","title":"UnityCatalogServer Utility","text":"<p><code>UnityCatalogServer</code> is a command-line utility to start a server at the given port (default: <code>8080</code>) or the closest one open.</p> <pre><code>./bin/start-uc-server [port]\n</code></pre> <p><code>UnityCatalogServer</code> starts Armeria documentation service at http://localhost:8081/docs/ and the Unity Catalog API services.</p>"},{"location":"server/UnityCatalogServer/#creating-instance","title":"Creating Instance","text":"<p><code>UnityCatalogServer</code> takes the following to be created:</p> <ul> <li> Port (default: <code>8080</code>) <p>While being created, <code>UnityCatalogServer</code> builds the Server:</p> <ol> <li>Handle HTTP requests at the given port</li> <li>Bind the Armeria documentation service (Armeria) under <code>/docs</code> URL</li> <li>Register the API services</li> </ol> <p><code>UnityCatalogServer</code> is created when:</p> <ul> <li><code>UnityCatalogServer</code> command-line utility is started</li> </ul>"},{"location":"server/UnityCatalogServer/#server","title":"Server","text":"<p><code>UnityCatalogServer</code> creates a <code>Server</code> (Armeria) when created.</p>"},{"location":"server/UnityCatalogServer/#addServices","title":"Registering API Services","text":"<pre><code>void addServices(\n  ServerBuilder sb)\n</code></pre> <p><code>addServices</code> creates and registers Unity Catalog API services at the <code>/api/2.1/unity-catalog/</code> base path.</p> URL Service <code>/</code> Returns <code>Hello, Unity Catalog!</code> message <code>/api/2.1/unity-catalog/</code> TableService <code>/api/2.1/unity-catalog/catalogs</code> CatalogService <code>/api/2.1/unity-catalog/functions</code> FunctionService <code>/api/2.1/unity-catalog/iceberg</code> IcebergRestCatalogService <code>/api/2.1/unity-catalog/schemas</code> SchemaService <code>/api/2.1/unity-catalog/temporary-table-credentials</code> TemporaryTableCredentialsService <code>/api/2.1/unity-catalog/temporary-volume-credentials</code> TemporaryVolumeCredentialsService <code>/api/2.1/unity-catalog/volumes</code> VolumeService"},{"location":"server/UnityCatalogServer/#main","title":"Launching UnityCatalogServer","text":"<pre><code>void main(\n  String[] args)\n</code></pre> <p><code>main</code> starts probing for the available port from <code>8081</code> or the first argument specified on command line.</p> <p><code>main</code> creates a UnityCatalogServer.</p> <p><code>main</code> requests the <code>UnityCatalogServer</code> to print out the welcome ASCII art message.</p> <p><code>main</code> requests the <code>UnityCatalogServer</code> to start.</p> <p><code>main</code>...FIXME</p>"},{"location":"server/VolumeService/","title":"VolumeService","text":""}]}